{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/NftTop.vue?37fc","webpack:///./src/components/Layout.vue?09ed","webpack:///./src/App.vue?7b18","webpack:///./src/App.vue","webpack:///./src/components/Layout.vue","webpack:///./src/components/Layout.vue?a8d1","webpack:///./src/App.vue?7b1b","webpack:///./src/components/Admin.vue","webpack:///./src/components/Admin.vue?7be1","webpack:///./src/components/NftMint.vue","webpack:///./src/components/NftMint.vue?6ae9","webpack:///./src/components/Wom.vue","webpack:///./src/components/Nft.vue","webpack:///./src/components/Nft.vue?f1ad","webpack:///./src/components/NftTop.vue","webpack:///./src/components/NftTop.vue?a424","webpack:///./src/components/Wom.vue?0fa2","webpack:///./src/components/Shop.vue","webpack:///./src/components/Shop.vue?6fb6","webpack:///./src/main.js","webpack:///./src/components/Wom.vue?5bac"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_createVNode","_component_Layout","_component_router_view","class","_createElementVNode","href","src","alt","width","_hoisted_9","_hoisted_13","_hoisted_17","data-bs-toggle","aria-haspopup","aria-expanded","tabindex","role","aria-hidden","_hoisted_28","_hoisted_32","_hoisted_36","_hoisted_6","$data","_createElementBlock","_Fragment","onClick","$options","_toDisplayString","_hoisted_25","_hoisted_26","_hoisted_39","myAddressDisplay","stakingAddress","StakingAddress","netName","wrongNetwork","mounted","this","provider","ethers","providers","Web3Provider","ethereum","getNetwork","then","network","chainId","netId","request","method","params","utils","hexlify","catch","err","code","chainName","nativeCurrency","decimals","symbol","rpcUrls","rpcServer","blockExplorerUrls","on","location","reload","signer","getSigner","getAddress","address","substring","methods","loginMM","addPowToMM","type","options","PowTokenAddress","addWomToMM","RewardTokenAddress","__exports__","components","Layout","render","_hoisted_5","_hoisted_7","Math","round","_hoisted_8","_hoisted_10","_hoisted_11","disabled","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","$event","size","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_41","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_47","_hoisted_49","rewardTokenContract","stakingContract","powSellerContract","powTokenContract","powSaleActive","powTokenPriceBch","powTokenPriceWom","powTokenPriceFlexUsd","powTokenSellerBchBalance","powTokenSellerWomBalance","powTokenSellerFlexUsdBalance","stakingIsWomMinter","powSellerIsPowMinter","isAdmin","stakingPaused","totalStakedPower","baseStakingPower","released","womEmissionPerHour","getPowSaleActive","saleActive","isActive","getPowTokenPrices","powPriceBch","priceInWei","getPowPriceToken","FlexUsdAddress","withdrawBchFromPowTokenSeller","withdrawBch","tx","wait","withdrawWoMFromPowTokenSeller","withdrawToken","withdrawFlexUsdFromPowTokenSeller","setNewPriceBchForPow","setNewPriceBch","toString","setNewPriceWomForPow","setNewPriceToken","setNewPriceFlexUsdForPow","powSellerPauseSale","pauseSale","powSellerResumeSale","resumeSale","registerStakingAsMinter","addMinter","unregisterStakingAsMinter","removeMinter","registerPowSellerAsMinter","PowSellerAddress","unregisterPowSellerAsMinter","stakeAdminPause","setPaused","stakeAdminUnpause","send","_rewardTokenContract","Contract","RewardToken","abi","_stakingContract","NftStaking","_powSellerContract","PowTokenSeller","_powTokenContract","PowToken","_flexUsdContract","flexUsdTokenContract","DevAddress","showStakerInfo","stakerInfo","formatEther","isPaused","isMinter","_isMinter","getBalance","balance","balanceOf","target","_hoisted_12","_hoisted_14","stakersAddress","feedbackMessage","stakersBchBalance","stakersWomBalance","stakersPowBalance","burnWomToken","amount","burn","load","burnPowToken","getPowTokenBalance","getRewardTokenBalance","getBchBalance","mintWomNft","WomNftAddress","WorldOfMasksNFT","mint","gasLimit","gasPrice","myAddress","_womContract","_hoisted_4","_component_NftTop","_component_Nft","nftCA","projectname","id","aria-powanded","aria-labelledby","title","$props","_hoisted_34","_hoisted_46","style","min","_hoisted_51","_hoisted_53","_hoisted_54","_hoisted_55","_renderList","tokenId","image","level","staked","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","max","nftLevelAfterUpgrade","onChange","levelsToUpgrade","Web3","require","womTest","levels","womTestLevel","initialStakes","womInitialStakesTest","pictureLink","nftCollection","removeItemOnce","arr","index","indexOf","console","log","props","emits","rpc","maxLevel","powCostPerLevel","powCostToBulkUpgrade","powerForLevel","maxNftsPerTx","showLevelingExplanation","currentCollection","stakersPowAllowanceForLeveling","nftContract","loadingUnstakedNfts","loadingStakedNfts","stakersNfts","filteredNfts","filter","selectedNfts","nftInfo","stakedCount","unstakedCount","picLink","nftLevel","collectionApprovedForStaking","transactionInProgress","paused","refreshPowBalance","selectNft","_tokenId","that","updateCostForBulkUpgrade","updateLevelsToUpgrade","getLevel","getPower","approvePowToken","approve","constants","MaxUint256","allowance","approveStaking","setApprovalForAll","isApprovedForAll","_collectionApprovedForStaking","stake","unstake","selectVisible","clearSelection","stakeSelected","IDs","unstakeSelected","nftsFound","idx","cost","upgradeSpecificNft","_levelsToUpgrade","_powTokens","ownerOf","_nftOwner","balanceNew","upgradeLevel","upgradeSelectedNfts","nftsToUpgradeArray","levelsToUpgradeArray","powBalanceAfterUpgrade","calculatePowerIncreaseSolidityV2","startLvl","startPwrX10k","result2","upgrade1NftGasSavings","nftPowerAfterUpgrade","newPwrX10k","newLvl","powTokensConsumed","minpwrLevel","getMinPower","minpwrNextLevel","pctInLevelX100AfterUpgrade","filterNfts","_param","unstaked","concat","fillNftInfo","_inArr","_staked","sort","a","b","updateLevels","Promise","resolve","reject","nextBlockToCheck","optionsPower","fromBlock","toBlock","web3HttpReadLevels","stakeContractHttp","eth","getPastEvents","events","item","parseInt","returnValues","newLevel","blockNumber","e","pause","myStakedNfts","optionsStake","web3HttpMint","mintContractHttp","from","to","includes","walletOfOwner","tokens","tokensInWallet","iCopy","Number","_nftContract","_hoisted_3","onUpdateStakingPowerEvent","SECONDS_PER_DAY","stakerStakedForSeconds","stakersPayoutPct","stakersNextPayoutPct","stakerNextPayoutPctInSeconds","stakersPower","stakerEarningRateX1k","earningsTime","hoursInWords","1","24","168","720","8760","womToHarvest","harvest","loadStakerInfo","stakedForSeconds","stakedForDays","floor","showStakersEarningsUntilLastTimestamp","showStakersEarningsAfterLastTimestamp","earnings","loadWomBalance","userAddress","Nft","NftTop","_hoisted_27","pow","_hoisted_19","_hoisted_24","stakersWomAllowanceForShop","stakersFlexUsdAllowanceForShop","stakersFlexUsdBalance","powTokensToBuy","removePowTokenAllowance","getFlexUsdBalance","buyPowWithBch","powTokensInt","bchValue","parseEther","buyPowWithToken","tokenName","powTokenPrice","stakersAllowance","stakersBalance","tokenContract","tokenCA","tokenValue","buyPowWithTokens","getAllowances","app","createApp","App","routes","path","component","Wom","Shop","Admin","NftMint","router","createRouter","history","createWebHistory","use","mount"],"mappings":"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AGY,OAHZ,GAAqD,MACjDuB,eACEL,gBAAcA,UAAQkN,GAASS,uBACjC,IAAC,KAEP7O,eASS,UATAqB,QAAK,mBAAEC,qBAAmB8M,EAASlN,UAAQkN,GAASW,kBAC3DhP,MAAM,kBACLuF,SAAUpE,qBAAiB,GAASA,kCAA8B,GAASA,UAAQkN,GAASE,OAASpN,aAAwC,IAA5BA,gCAA0CA,SAC5J2M,MAAA,sBAHF,gBAG4B,YAClBtM,eAAGL,UAAQkN,GAASW,iBAAkB,SAAM,GACZ,GAAhC7N,UAAQkN,GAASW,iBAAe,iBADY5N,eACOC,OAAA,CAAAlC,OAAA,KADP,0CACO,QAAKqC,eAC1DL,UAAQkN,GAASW,gBAA+C7N,mBAElE,QACN,IATA,kBAhDR,iBApTV,I,mHA4XI8N,GAAOC,EAAQ,QA6BjBC,GAAU,CACZC,OAAQC,GACRC,cAAeC,GACfC,YACE,iEAOEC,GAAgB,CAKpB,6CAA8CN,IAKhD,SAASO,GAAeC,EAAK9Q,GAC3B,IAAI+Q,EAAQD,EAAIE,QAAQhR,GAMxB,OALI+Q,GAAS,EACXD,EAAIjS,OAAOkS,EAAO,GAElBE,QAAQC,IAAI,qDAEPJ,EAkBM,QACbvR,KAAM,MACN4R,MAAO,CAAC,QAAS,eACjBC,MAAO,CAAC,2BAERjU,KALa,WAMX,MAAO,CACLkU,IAAK,KAELC,SAAU,IACVC,gBAAiB,IACjBC,qBAAsB,EAEtBC,cAAe,CACb,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MAC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","file":"js/app.7ac59b37.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NftTop.vue?vue&type=style&index=0&id=40d4dfbf&lang=css\"","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Layout.vue?vue&type=style&index=0&id=3fc6b92c&lang=css\"","export * from \"-!../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=7b2d9ba5&lang=css\"","<template>\r\n  <Layout />\r\n  <router-view/>\r\n</template>\r\n\r\n<script>\r\nimport Layout from \"@/components/Layout\";\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {Layout},\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n\r\nselect, #app select:hover {\r\n  outline: 1px solid #6f4ef2;\r\n}\r\n\r\n.loggeed-in-addr-text {\r\n  background: #6F4EF2;\r\n  background: -webkit-linear-gradient(to right, #6F4EF2 0%, #802CB0 100%);\r\n  background: -moz-linear-gradient(to right, #6F4EF2 0%, #802CB0 100%);\r\n  background: linear-gradient(to right, #6F4EF2 0%, #802CB0 100%);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  font-weight: bold;\r\n}\r\n\r\n.top-bid button.harvest-button {\r\n  margin: 0;\r\n}\r\n\r\n.back-to-top {\r\n position: fixed;\r\n bottom: 10px;\r\n right: 10px;\r\n width: 64px;\r\n height: 64px;\r\n z-index: 9999;\r\n cursor: pointer;\r\n text-decoration: none;\r\n transition: opacity 0.2s ease-out;\r\n background-image: url(../public/images/top.png);\r\n display: none;\r\n}\r\n.back-to-top:hover{\r\n opacity: 0.9;\r\n}\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"header\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-12\">\r\n          <div class=\"header-content\">\r\n            <div class=\"header-left\">\r\n              <div class=\"brand-logo\">\r\n                <a class=\"mini-logo\" href=\"./\">\r\n                  <img src=\"images/logo.png\" alt=\"\" width=\"40\" />\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"header-right\">\r\n              <!-- <div class=\"dark-light-toggle theme-switch\" onclick=\"themeToggle()\">\r\n                <span class=\"dark\"><i class=\"ri-moon-line\"></i></span>\r\n                <span class=\"light\"><i class=\"ri-sun-line\"></i></span>\r\n              </div> -->\r\n              <template v-if=\"!myAddressDisplay && !wrongNetwork\">\r\n              <div class=\"dark-light-toggle theme-switch\">\r\n                <a @click=\"addWomToMM\" class=\"btn btn-outline-secondary btn-sm\"><img\r\n                    src=\"images/metamask-icon-32.png\" /> Add WoM</a>\r\n              </div>\r\n              <div class=\"dark-light-toggle theme-switch\">\r\n                <a @click=\"addPowToMM\" class=\"btn btn-outline-secondary btn-sm\"><img\r\n                    src=\"images/metamask-icon-32.png\" /> Add POW</a>\r\n              </div>\r\n              </template>\r\n              <div class=\"dark-light-toggle theme-switch\" v-if=\"!myAddressDisplay && !wrongNetwork\">\r\n                <a @click=\"loginMM\" class=\"btn btn-primary btn-sm\"><img src=\"images/metamask-icon-32.png\" /> Login</a>\r\n              </div>\r\n              <div class=\"dark-light-toggle theme-switch\" v-if=\"wrongNetwork\">\r\n                <strong>Please switch the network to {{ netName }}.</strong>\r\n              </div>\r\n              <div class=\"dropdown profile_log dropdown\">\r\n                <div data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" class=\"\" aria-expanded=\"false\">\r\n                  <div class=\"user icon-menu active loggeed-in-addr-text\">\r\n                    <span>{{ myAddressDisplay }}</span>\r\n                  </div>\r\n                </div>\r\n                <div tabindex=\"-1\" role=\"menu\" aria-hidden=\"true\" class=\"dropdown-menu dropdown-menu-right\">\r\n                  <a class=\"dropdown-item\" href=\"./shop\">\r\n                    <span><i class=\"ri-shopping-cart-2-fill\"></i></span>POW Shop\r\n                  </a>\r\n                  <a class=\"dropdown-item\" href=\"./wom\">\r\n                    <span><i class=\"ri-user-3-fill\"></i></span>My World of Masks NFTs\r\n                  </a>                  \r\n                  <a class=\"dropdown-item\" v-bind:href=\"\r\n                    'https://www.smartscan.cash/address/' + stakingAddress\r\n                  \">\r\n                    <span><i class=\"ri-search-eye-line\"></i></span>View Staking Contract Activity\r\n                  </a>\r\n                  <div class=\"dark-light-toggle theme-switch\">\r\n                <a @click=\"addWomToMM\" class=\"btn btn-outline-secondary btn-sm\"><img\r\n                    src=\"images/metamask-icon-32.png\" /> Add WoM</a>\r\n              </div>\r\n              <div class=\"dark-light-toggle theme-switch\">\r\n                <a @click=\"addPowToMM\" class=\"btn btn-outline-secondary btn-sm\"><img\r\n                    src=\"images/metamask-icon-32.png\" /> Add POW</a>\r\n              </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"sidebar\">\r\n    <div class=\"brand-logo\">\r\n      <a class=\"full-logo\" href=\"./\"><img src=\"images/logo.png\" alt=\"\" width=\"40\" /></a>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <ul>\r\n         <li>\r\n          <a href=\"./nftMint\">\r\n            <span><i class=\"ri-gift-fill\"></i></span>\r\n            <span class=\"nav-text\">NFT Mint</span>\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"./shop\">\r\n            <span><i class=\"ri-shopping-cart-2-fill\"></i></span>\r\n            <span class=\"nav-text\">POW Shop</span>\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"./wom\">\r\n            <span><i class=\"ri-user-3-fill\"></i></span>\r\n            <span class=\"nav-text\">NFTs</span>\r\n          </a>\r\n        </li>\r\n        <!-- <li>\r\n          <a href=\"./admin\">\r\n            <span><i class=\"ri-settings-3-fill\"></i></span>\r\n            <span class=\"nav-text\">Admin</span>\r\n          </a>\r\n        </li> -->\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ethers } from \"ethers\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      myAddressDisplay: null,\r\n\r\n      stakingAddress: window.StakingAddress,\r\n      netName: window.netName,\r\n      wrongNetwork: false,\r\n    };\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    this.provider.getNetwork().then((network) => {\r\n      if (network.chainId !== window.netId) {\r\n        this.wrongNetwork = true;\r\n        window.ethereum.request({\r\n          method: 'wallet_switchEthereumChain',\r\n          params: [{ chainId: ethers.utils.hexlify(window.netId) }]\r\n        })\r\n          .catch((err) => {\r\n            // This error code indicates that the chain has not been added to MetaMask\r\n            if (err.code === 4902) {\r\n              // dispatch(connectFailed(`Add ${window.netName} to Metamask and then reload this website.`));\r\n              window.ethereum.request({\r\n                method: 'wallet_addEthereumChain',\r\n                params: [\r\n                  {\r\n                    chainName: window.netName,\r\n                    chainId: ethers.utils.hexlify(window.netId),\r\n                    nativeCurrency: { name: \"BCH\", decimals: 18, symbol: \"BCH\" },\r\n                    rpcUrls: [window.rpcServer],\r\n                    blockExplorerUrls: [\"https://smartscan.cash/\"]\r\n                  }\r\n                ]\r\n              });\r\n            }\r\n          });\r\n      }\r\n    });\r\n    this.provider.on(\"network\", (n, o) => {\r\n      if (o) {\r\n        window.location.reload();\r\n      }\r\n    });\r\n    this.signer = this.provider.getSigner();\r\n    this.signer.getAddress().then((address) => {\r\n      this.myAddressDisplay =\r\n        address.substring(0, 5) +\r\n        \"...\" +\r\n        address.substring(address.length - 5, address.length);\r\n    });\r\n  },\r\n  methods: {\r\n    loginMM: function () {\r\n      window.location.reload();\r\n    },\r\n    addPowToMM: function () {\r\n      window.ethereum.request({\r\n        method: \"wallet_watchAsset\",\r\n        params: {\r\n          type: \"ERC20\",\r\n          options: {\r\n            address: window.PowTokenAddress,\r\n            symbol: \"POW\",\r\n            decimals: 0,\r\n          },\r\n        },\r\n      });\r\n    },\r\n    addWomToMM: function () {\r\n      window.ethereum.request({\r\n        method: \"wallet_watchAsset\",\r\n        params: {\r\n          type: \"ERC20\",\r\n          options: {\r\n            address: window.RewardTokenAddress,\r\n            symbol: \"WoM\",\r\n            decimals: 18,\r\n          },\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n</style>","import { render } from \"./Layout.vue?vue&type=template&id=3fc6b92c\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\n\nimport \"./Layout.vue?vue&type=style&index=0&id=3fc6b92c&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=7b2d9ba5\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=7b2d9ba5&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-12\">\r\n          <div>\r\n            <h2 class=\"mb-0\">NFT Staking Statistics</h2>\r\n            <p>Earnable WoM as rewards: 25 million in total, 12.5 million over first 3 years</p>\r\n            <p>WoM total max. supply: 50 million</p>\r\n            <p>Total staked power: {{ totalStakedPower }}</p>\r\n            <p>Base staking power: {{ baseStakingPower }}</p>\r\n            <!-- <p>Released WoM by contract: {{ released }}</p> -->\r\n            <p>Total WoM emission rate: {{ womEmissionPerHour }} WoM / hour</p>\r\n            <p> = {{ Math.round(womEmissionPerHour * 24 * 365 / 1000) / 1000 }} million WoM / year </p>\r\n\r\n            <h1 class=\"mb-0\">---Everything below this line is ADMIN ONLY---</h1>\r\n            <h2 v-if=\"!isAdmin\">(You are not logged into the admin wallet)</h2>\r\n            <h2 v-else>(YOU ARE THE ADMIN)</h2>\r\n\r\n            <h2 class=\"mb-0\">Register Staking Contract</h2>\r\n            <div> Staking is minter: <strong>{{ stakingIsWomMinter }}</strong> </div>\r\n            <div>\r\n              <button class=\"btn btn-danger\" type=\"button\" :disabled=\"!stakingIsWomMinter\"\r\n                @click=\"unregisterStakingAsMinter\">Unregister as minter</button>\r\n                &nbsp;\r\n              <button class=\"btn btn-success\" type=\"button\" :disabled=\"stakingIsWomMinter\"\r\n                @click=\"registerStakingAsMinter\">Register as minter</button>\r\n            </div>\r\n            <br />\r\n\r\n            <h2 class=\"mb-0\">Pause Staking Contract</h2>\r\n            Staking is active: {{ !stakingPaused }}\r\n            <p>\r\n              <button @click=\"stakeAdminPause\" :disabled=\"stakingPaused\" class=\"btn btn-danger\">Pause</button>\r\n              &nbsp;\r\n              <button @click=\"stakeAdminUnpause\" :disabled=\"!stakingPaused\"\r\n                class=\"btn btn-success\">Unpause</button>\r\n            </p>\r\n            <!-- <p>\r\n              <button @click=\"resetBoosts\" class=\"btn btn-warning\">Reset boosts</button>\r\n            </p> -->\r\n          </div>\r\n          <br />\r\n\r\n\r\n\r\n          <div>\r\n            <h2 class=\"mb-0\">POW Token Shop Admin Control</h2>\r\n            <h4>Current POW Price</h4>\r\n            <div> 1 POW costs: <strong>{{ powTokenPriceBch / 10 ** 18 }} BCH</strong> </div>\r\n            <div>\r\n              <input type=\"number\" v-model=\"powTokenPriceBch\" size=\"18\" />\r\n              &nbsp;\r\n              <button class=\"btn btn-warning\" type=\"button\" @click=\"setNewPriceBchForPow\">Set\r\n                New BCH Price</button>\r\n            </div>\r\n            <div> 1 POW costs: <strong>{{ powTokenPriceWom / 10 ** 18 }} WoM</strong> </div>\r\n            <div>\r\n              <input type=\"number\" v-model=\"powTokenPriceWom\" size=\"18\" />\r\n              &nbsp;\r\n              <button class=\"btn btn-warning\" type=\"button\" @click=\"setNewPriceWomForPow\">Set\r\n                New WoM Price</button>\r\n            </div>\r\n            <div> 1 POW costs: <strong>{{ powTokenPriceFlexUsd / 10 ** 18 }} flexUSD</strong> </div>\r\n            <div>\r\n              <input type=\"number\" v-model=\"powTokenPriceFlexUsd\" size=\"18\" />\r\n              &nbsp;\r\n              <button class=\"btn btn-warning\" type=\"button\" @click=\"setNewPriceFlexUsdForPow\">Set\r\n                New flexUSD Price</button>\r\n            </div>\r\n            <h6>Note: Setting price to 0 means that the POW token seller contract stops accepting the token as payment.\r\n            </h6>\r\n            <br />\r\n            <h4>POW Token Seller Contract Balances</h4>\r\n            <p>{{ Math.round(powTokenSellerBchBalance / 10 ** 15) / 10 ** 3 }} BCH</p>\r\n            <p>{{ Math.round(powTokenSellerWomBalance / 10 ** 15) / 10 ** 3 }} WoM</p>\r\n            <p>{{ Math.round(powTokenSellerFlexUsdBalance / 10 ** 15) / 10 ** 3 }} flexUSD</p>\r\n            <div>\r\n              <button class=\"btn btn-primary\" type=\"button\" :disabled=\"powTokenSellerBchBalance <= 0\"\r\n                @click=\"withdrawBchFromPowTokenSeller\">withdraw BCH</button>\r\n                &nbsp;\r\n              <button class=\"btn btn-primary\" type=\"button\" :disabled=\"powTokenSellerWomBalance <= 0\"\r\n                @click=\"withdrawWoMFromPowTokenSeller\">withdraw\r\n                WoM</button>\r\n                &nbsp;\r\n              <button class=\"btn btn-primary\" type=\"button\" :disabled=\"powTokenSellerFlexUsdBalance <= 0\"\r\n                @click=\"withdrawFlexUsdFromPowTokenSeller\">withdraw\r\n                flexUSD</button>\r\n            </div>\r\n            <br />\r\n            <h4>POW Token Seller has to be POW token minter </h4>\r\n            <div> TokenSeller is minter: <strong>{{ powSellerIsPowMinter }}</strong> </div>\r\n            <div>\r\n              <button class=\"btn btn-danger\" type=\"button\" :disabled=\"!powSellerIsPowMinter\"\r\n                @click=\"unregisterPowSellerAsMinter\">Unregister as minter</button>\r\n                &nbsp;\r\n              <button class=\"btn btn-success\" type=\"button\" :disabled=\"powSellerIsPowMinter\"\r\n                @click=\"registerPowSellerAsMinter\">Register as minter</button>\r\n            </div>\r\n            <br />\r\n\r\n\r\n            <h4>Pause and Resume POW Token Seller</h4>\r\n            <div> Token Sale active: <strong>{{ powSaleActive }}</strong> </div>\r\n            <div>\r\n              <button class=\"btn btn-danger\" type=\"button\" :disabled=\"!powSaleActive\" @click=\"powSellerPauseSale\">Pause\r\n                Sale</button>\r\n                &nbsp;\r\n              <button class=\"btn btn-success\" type=\"button\" :disabled=\"powSaleActive\"\r\n                @click=\"powSellerResumeSale\">Resume\r\n                Sale</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { ethers } from \"ethers\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\nimport NftStaking from \"../../artifacts/contracts/NftStaking.sol/NftStaking.json\";\r\nimport PowTokenSeller from \"../../artifacts/contracts/PowTokenSeller.sol/PowTokenSeller.json\";\r\nimport PowToken from \"../../artifacts/contracts/PowToken.sol/PowToken.json\";\r\n\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      rewardTokenContract: null,\r\n      stakingContract: null,\r\n      powSellerContract: null,\r\n      powTokenContract: null,\r\n\r\n      powSaleActive: false,\r\n      powTokenPriceBch: 0,\r\n      powTokenPriceWom: 0,\r\n      powTokenPriceFlexUsd: 0,\r\n\r\n      powTokenSellerBchBalance: 0,\r\n      powTokenSellerWomBalance: 0,\r\n      powTokenSellerFlexUsdBalance: 0,\r\n\r\n      stakingIsWomMinter: false,\r\n      powSellerIsPowMinter: false,\r\n\r\n      isAdmin: false,\r\n\r\n      stakingPaused: false,\r\n      totalStakedPower: null,\r\n      baseStakingPower: null,\r\n      released: null,\r\n      womEmissionPerHour: null,\r\n    }\r\n  },\r\n  methods: {\r\n    getPowSaleActive: async function () {\r\n      this.powSellerContract.saleActive().then((isActive) => {\r\n        this.powSaleActive = isActive;\r\n      });\r\n    },\r\n    getPowTokenPrices: async function () {\r\n      this.powSellerContract.powPriceBch().then((priceInWei) => {\r\n        this.powTokenPriceBch = priceInWei;\r\n      });\r\n      this.powSellerContract.getPowPriceToken(window.RewardTokenAddress).then((priceInWei) => {\r\n        this.powTokenPriceWom = priceInWei;\r\n      });\r\n      this.powSellerContract.getPowPriceToken(window.FlexUsdAddress).then((priceInWei) => {\r\n        this.powTokenPriceFlexUsd = priceInWei;\r\n      });\r\n    },\r\n\r\n    withdrawBchFromPowTokenSeller: async function () {\r\n      let tx = await this.powSellerContract.withdrawBch();\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    withdrawWoMFromPowTokenSeller: async function () {\r\n      let tx = await this.powSellerContract.withdrawToken(window.RewardTokenAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    withdrawFlexUsdFromPowTokenSeller: async function () {\r\n      let tx = await this.powSellerContract.withdrawToken(window.FlexUsdAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    setNewPriceBchForPow: async function () {\r\n      let tx = await this.powSellerContract.setNewPriceBch(this.powTokenPriceBch.toString());\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    setNewPriceWomForPow: async function () {\r\n      let tx = await this.powSellerContract.setNewPriceToken(window.RewardTokenAddress, this.powTokenPriceWom.toString());\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    setNewPriceFlexUsdForPow: async function () {\r\n      let tx = await this.powSellerContract.setNewPriceToken(window.FlexUsdAddress, this.powTokenPriceFlexUsd.toString());\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    powSellerPauseSale: async function () {\r\n      let tx = await this.powSellerContract.pauseSale();\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    powSellerResumeSale: async function () {\r\n      let tx = await this.powSellerContract.resumeSale();\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    registerStakingAsMinter: async function () {\r\n      let tx = await this.rewardTokenContract.addMinter(window.StakingAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    unregisterStakingAsMinter: async function () {\r\n      let tx = await this.rewardTokenContract.removeMinter(window.StakingAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    registerPowSellerAsMinter: async function () {\r\n      let tx = await this.powTokenContract.addMinter(window.PowSellerAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    unregisterPowSellerAsMinter: async function () {\r\n      let tx = await this.powTokenContract.removeMinter(window.PowSellerAddress);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    stakeAdminPause: async function () {\r\n      let tx = await this.stakingContract.setPaused(true);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n    stakeAdminUnpause: async function () {\r\n      let tx = await this.stakingContract.setPaused(false);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    // resetBoosts: async function () {\r\n    //   let tx = await this.stakingContract.resetBoosts();\r\n    //   await tx.wait();\r\n    //   window.location.reload();\r\n    // },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, 'any');\r\n    this.provider.send(\"eth_requestAccounts\", []).then(() => {\r\n      this.signer = this.provider.getSigner();\r\n      let _rewardTokenContract = new ethers.Contract(window.RewardTokenAddress, RewardToken.abi, this.provider.getSigner());\r\n      let _stakingContract = new ethers.Contract(window.StakingAddress, NftStaking.abi, this.provider.getSigner());\r\n      let _powSellerContract = new ethers.Contract(window.PowSellerAddress, PowTokenSeller.abi, this.provider.getSigner());\r\n      let _powTokenContract = new ethers.Contract(window.PowTokenAddress, PowToken.abi, this.provider.getSigner());\r\n      let _flexUsdContract = new ethers.Contract(window.FlexUsdAddress, RewardToken.abi, this.provider.getSigner());\r\n\r\n      this.rewardTokenContract = _rewardTokenContract;\r\n      this.stakingContract = _stakingContract;\r\n      this.powSellerContract = _powSellerContract;\r\n      this.powTokenContract = _powTokenContract;\r\n      this.flexUsdTokenContract = _flexUsdContract;\r\n    }).then(() => {\r\n      this.signer.getAddress().then((address) => {\r\n        if (address === window.DevAddress){\r\n          this.isAdmin = true;\r\n        }\r\n      });\r\n      this.stakingContract.showStakerInfo(window.DevAddress).then((stakerInfo) => {\r\n        this.totalStakedPower = stakerInfo[2];\r\n        this.baseStakingPower = stakerInfo[3];\r\n        this.womEmissionPerHour =\r\n          Math.round(\r\n            ethers.utils.formatEther(stakerInfo[4]) * 100000\r\n          ) / 100000;\r\n      });\r\n      this.stakingContract.isPaused().then((isPaused) => {\r\n        this.stakingPaused = isPaused;\r\n      });\r\n      this.powTokenContract.isMinter(window.PowSellerAddress).then((_isMinter) => {\r\n        this.powSellerIsPowMinter = _isMinter;\r\n      });\r\n      this.provider.getBalance(window.PowSellerAddress).then((balance) => {\r\n        this.powTokenSellerBchBalance = balance;\r\n      });\r\n      this.rewardTokenContract.isMinter(window.StakingAddress).then((_isMinter) => {\r\n        this.stakingIsWomMinter = _isMinter;\r\n      });\r\n      this.rewardTokenContract.balanceOf(window.PowSellerAddress).then((balance) => {\r\n        this.powTokenSellerWomBalance = balance;\r\n      });\r\n      this.flexUsdTokenContract.balanceOf(window.PowSellerAddress).then((balance) => {\r\n        this.powTokenSellerFlexUsdBalance = balance;\r\n      });\r\n      this.getPowSaleActive();\r\n      this.getPowTokenPrices();\r\n    })\r\n  }\r\n}\r\n</script>","import { render } from \"./Admin.vue?vue&type=template&id=bf2586be\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-12\">\r\n          <h2>NFT Minting</h2>\r\n          <p>\r\n            Mint some World of Masks NFTs on the testnet for free!\r\n          </p>\r\n          <button @click=\"mintWomNft(49)\" class=\"btn btn-primary\">Mint 50</button>\r\n          &nbsp;\r\n          <button @click=\"mintWomNft(24)\" class=\"btn btn-primary\">Mint 25</button>\r\n          &nbsp;\r\n          <button @click=\"mintWomNft(5)\" class=\"btn btn-primary\">Mint 5</button>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          {{ feedbackMessage }}\r\n          <br />\r\n          <br />\r\n          <br />\r\n\r\n          <h2>Free Testnet BCH</h2>\r\n          <p>Your current BCH balance:\r\n            {{ Math.round(stakersBchBalance / 10**15) / 10**3 }} BCH\r\n          </p>\r\n          <br />\r\n          <p>\r\n            If you need testnet BCH, please claim it for free at:\r\n            <a href=\"http://54.169.31.93:8080/faucet\" target=\"_blank\">http://54.169.31.93:8080/faucet</a>\r\n          </p>\r\n          <br />\r\n\r\n          <div class=\"col-xxl-12\">\r\n            <h2>For test purposes, you can burn WoM and Pow tokens here:</h2>\r\n            <p>Your WoM token balance: {{ Math.round(stakersWomBalance/10**15) / 10**3 }} WoM</p>\r\n            <button @click=\"burnWomToken(0)\" class=\"btn btn-primary\">Burn My WoM</button>\r\n          <br />\r\n          <br />\r\n\r\n            <p>Your Pow token balance: {{ stakersPowBalance }} Pow</p>\r\n            <button @click=\"burnPowToken(0)\" class=\"btn btn-primary\">Burn My Pow</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { ethers } from \"ethers\";\r\nimport WorldOfMasksNFT from \"../../artifacts/contracts/WorldOfMasksNFT.sol/WorldOfMasksNFT.json\";\r\nimport PowToken from \"../../artifacts/contracts/PowToken.sol/PowToken.json\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\n\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      provider: null,\r\n      signer: null,\r\n\r\n      stakersAddress: \"\",\r\n      feedbackMessage: \"\",\r\n\r\n      powTokenContract: null,\r\n      rewardTokenContract: null,\r\n\r\n      stakersBchBalance: 0,\r\n      stakersWomBalance: 0,\r\n      stakersPowBalance: 0,\r\n    }\r\n  },\r\n  methods: {\r\n    burnWomToken: async function (amount) {\r\n      this.feedbackMessage = \"\";\r\n      if (amount == 0) {\r\n        amount = this.stakersWomBalance;\r\n      }\r\n      if (amount == 0) {\r\n        this.feedbackMessage = \"Nothing to burn!\";\r\n        return false;\r\n      }\r\n      let tx = await this.rewardTokenContract.burn(amount);\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    burnPowToken: async function (amount) {\r\n      this.feedbackMessage = \"\";\r\n      if (amount == 0) {\r\n        amount = this.stakersPowBalance;\r\n      }\r\n      if (amount == 0) {\r\n        this.feedbackMessage = \"Nothing to burn!\";\r\n        return false;\r\n      }\r\n      let tx = await this.powTokenContract.burn(amount);\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    getPowTokenBalance: function () {\r\n      this.powTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersPowBalance = balance;\r\n      });\r\n    },\r\n\r\n    getRewardTokenBalance: function () {\r\n      this.rewardTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersWomBalance = balance;\r\n      });\r\n    },\r\n\r\n    getBchBalance: function () {\r\n      this.provider.getBalance(this.stakersAddress).then((balance) => {\r\n        this.stakersBchBalance = balance;\r\n      });\r\n    },\r\n\r\n    mintWomNft: async function (amount) {\r\n      this.feedbackMessage = \"Minting \" + amount + \" NFTs. Please wait!\";\r\n      let c = new ethers.Contract(window.WomNftAddress, WorldOfMasksNFT.abi, this.provider.getSigner());\r\n      let tx = await c.mint(amount, {\r\n        gasLimit: 9999999,\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    load: async function () {\r\n    this.signer.getAddress().then((myAddress) => {\r\n      this.stakersAddress = myAddress;\r\n      this.getPowTokenBalance();\r\n      this.getBchBalance();\r\n      this.getRewardTokenBalance();\r\n    });\r\n  },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, 'any');\r\n    this.provider.send(\"eth_requestAccounts\", []).then(() => {\r\n      this.signer = this.provider.getSigner();\r\n\r\n      let _powTokenContract = new ethers.Contract(\r\n        window.PowTokenAddress,\r\n        PowToken.abi,\r\n        this.provider.getSigner()\r\n      );\r\n      let _womContract = new ethers.Contract(window.RewardTokenAddress, RewardToken.abi, this.provider.getSigner());\r\n\r\n      this.powTokenContract = _powTokenContract;\r\n      this.rewardTokenContract = _womContract;\r\n    }).then(() => {\r\n      this.load();\r\n    })\r\n  }\r\n}\r\n</script>","import { render } from \"./NftMint.vue?vue&type=template&id=5ed6f346\"\nimport script from \"./NftMint.vue?vue&type=script&lang=js\"\nexport * from \"./NftMint.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"content-body\">\r\n    <div class=\"container text-start\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xxl-6\">\r\n          <div class=\"promotion d-flex justify-content-between align-items-center\">\r\n            <div class=\"promotion-detail\">\r\n              <h3 class=\"text-white mb-3\">World of Masks NFTs</h3>\r\n              <p>\r\n                This is the internal beta test for staking and leveling of World of Masks NFTs. Please report any issues you find in the internal Telegram group!\r\n              </p>\r\n              <a href=\"https://oasis.cash/collection/0x4f0A64a905EEeB70810a079019Fd23586eca5268\" target=\"_blank\"\r\n                class=\"btn btn-secondary me-3\">Buy on Oasis</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-xxl-6\">\r\n          <div class=\"card top-bid\">\r\n            <div class=\"card-body\">\r\n              <div class=\"row align-items-center\">\r\n                <NftTop />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <Nft v-bind:nftCA=\"nftContract\" projectname=\"World of Masks\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Nft from \"@/components/Nft.vue\";\r\nimport NftTop from \"@/components/NftTop.vue\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: { Nft, NftTop },\r\n  data() {\r\n    return {\r\n      nftContract: window.WomNftAddress,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n","<template>\r\n  <template v-if=\"stakersAddress === null\">\r\n    <div class=\"text-center\">Please log into Metamask first, then refresh this website...</div>\r\n  </template>\r\n\r\n  <template v-if=\"loadingStakedNfts === true && loadingUnstakedNfts === true && stakersAddress !== null\">\r\n    <div class=\"text-center\">Loading NFTs...</div>\r\n  </template>\r\n\r\n  <template v-if=\"collectionApprovedForStaking === false\">\r\n    <div class=\"text-center\">\r\n      <button @click=\"approveStaking\" class=\"btn btn-primary\">Approve Staking Contract</button>\r\n    </div>\r\n  </template>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <h2 class=\"text-start\">{{ projectname }}</h2>\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-4 col-sm-12 col-xs-12\">\r\n            <ul class=\"settings-menu\">\r\n              <button class=\"btn btn-primary\" type=\"button\" id=\"collection-filter\" data-bs-toggle=\"dropdown\"\r\n                aria-powanded=\"false\">\r\n                Filter\r\n              </button>\r\n              <ul class=\"dropdown-menu\" aria-labelledby=\"collection-filter\">\r\n                <li>\r\n                  <a class=\"dropdown-item\" href=\"#\" @click=\"filterNfts('all')\"\r\n                    v-bind:class=\"filter === null ? 'current' : ''\">All ({{ stakersNfts.length }})</a>\r\n                </li>\r\n                <li>\r\n                  <a class=\"dropdown-item\" href=\"#\" @click=\"filterNfts('staked')\"\r\n                    v-bind:class=\"filter === 'staked' ? 'current' : ''\">Staked ({{ stakedCount }})</a>\r\n                </li>\r\n                <li>\r\n                  <a class=\"dropdown-item\" href=\"#\" @click=\"filterNfts('unstaked')\"\r\n                    v-bind:class=\"filter === 'unstaked' ? 'current' : ''\">Unstaked ({{ unstakedCount }})</a>\r\n                </li>\r\n              </ul>\r\n\r\n\r\n              <!-- &nbsp;\r\n                <button class=\"btn btn-primary\" type=\"button\" id=\"rpc-selector\" data-bs-toggle=\"dropdown\"\r\n                  aria-powanded=\"false\">\r\n                  rpc server\r\n                </button>\r\n                <ul class=\"dropdown-menu\" aria-labelledby=\"rpc-selector\">\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(0)\"\r\n                      v-bind:class=\"rpcIndex === 0 ? 'current' : ''\">{{ rpcs[0] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(1)\"\r\n                      v-bind:class=\"rpcIndex === 1 ? 'current' : ''\">{{ rpcs[1] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(2)\"\r\n                      v-bind:class=\"rpcIndex === 2 ? 'current' : ''\">{{ rpcs[2] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(3)\"\r\n                      v-bind:class=\"rpcIndex === 3 ? 'current' : ''\">{{ rpcs[3] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(4)\"\r\n                      v-bind:class=\"rpcIndex === 4 ? 'current' : ''\">{{ rpcs[4] }}</a>\r\n                  </li>\r\n                  <li>\r\n                    <a class=\"dropdown-item\" href=\"#\" @click=\"setRpcIndex(5)\"\r\n                      v-bind:class=\"rpcIndex === 5 ? 'current' : ''\">{{ rpcs[5] }}</a>\r\n                  </li>\r\n                </ul> -->\r\n\r\n              &nbsp;\r\n              <button v-if=\"showLevelingExplanation && stakersPowBalance > 0\" @click=\"showLevelingExplanation = false\"\r\n                class=\"btn btn-primary\">\r\n                Hide Explanation\r\n              </button>\r\n              <button v-if=\"!showLevelingExplanation && stakersPowBalance > 0\" @click=\"showLevelingExplanation = true\"\r\n                class=\"btn btn-primary\">\r\n                Show Explanation\r\n              </button>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\r\n\r\n\r\n    <!-- <div class=\"row\">\r\n        <div class=\"col-xxl-6\">\r\n          <div class=\"card top-bid\">\r\n            <div class=\"card-body\">\r\n              <div class=\"row align-items-center\">\r\n                <div class=\"col align-items-center\">\r\n                  <div class=\"col-12 text-center\">\r\n                    <div class=\"row text-center\">\r\n                      <h4>This box is only visible in the beta test:</h4>\r\n                    </div>\r\n                  </div>\r\n                  <br />\r\n                  <input type=\"number\" @input=\"updateCostForBulkUpgrade\" @change=\"updateCostForBulkUpgrade\" min=\"1\"\r\n                    :max=\"Math.min(stakersPowBalance, 2 ** 24 - 1)\" v-model=\"levelsToUpgrade\"\r\n                    :disabled=\"stakersPowBalance <= 0 || stakersPowAllowanceForLeveling <= 0\" />\r\n                  <input type=\"range\" class=\"form-control-range\" min=\"1\" :max=\"Math.min(stakersPowBalance, 2 ** 24 - 1)\"\r\n                    id=\"powTokensForUpgradeSlider\" v-model=\"levelsToUpgrade\" @change=\"updateCostForBulkUpgrade\"\r\n                    :disabled=\"stakersPowBalance <= 0 || stakersPowAllowanceForLeveling <= 0\">\r\n                  <button @click=\"upgradeSelectedNfts()\" class=\"btn btn-success\"\r\n                    :disabled=\"selectedNfts.length <= 0 || stakersPowBalance <= 0\" style=\"font-size : 14px;\">\r\n                    Upgrade {{ Math.min(selectedNfts.length, maxNftsPerTx) }}\r\n                  </button>\r\n                  <p v-if=\"selectedNfts.length > maxNftsPerTx\">Note: {{ maxNftsPerTx }} NFTs max</p>\r\n                  <template v-if=\"nftPowerAfterUpgrade > 0\">\r\n                    <br />\r\n                    <h5>Upgrade Preview:</h5>\r\n                    <h6>Cost: {{ powBalanceBeforeUpgrade - powBalanceAfterUpgrade }} POW (Balance: {{\r\n                        powBalanceBeforeUpgrade\r\n                    }} POW -> {{ powBalanceAfterUpgrade }} POW)</h6>\r\n                    <h6>NFT power: {{ nftPowerBeforeUpgrade / 10000\r\n                    }} (level {{ nftLevelBeforeUpgrade }} - min: {{ getMinPower(nftLevelBeforeUpgrade) / 10000 }} -\r\n                      max:\r\n                      {{ (getMinPower(nftLevelBeforeUpgrade + 1) - 1) / 10000 }})</h6>\r\n                    <h6>NFT power: {{ nftPowerAfterUpgrade / 10000 }}\r\n                      (level {{ nftLevelAfterUpgrade }} - min: {{ getMinPower(nftLevelAfterUpgrade) / 10000 }} - max:\r\n                      {{ (getMinPower(nftLevelAfterUpgrade + 1) - 1) / 10000 }})</h6>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br /> -->\r\n\r\n\r\n\r\n\r\n\r\n    <template v-if=\"transactionInProgress\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 text-center\">\r\n            Waiting for current transaction to finish...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <div class=\"row text-center\">\r\n      <h4>{{ feedbackMessage }}</h4>\r\n    </div>\r\n    <br />\r\n\r\n\r\n    <div v-if=\"stakersPowAllowanceForLeveling <= 0\" class=\"row\">\r\n      <div class=\"col-xxl-6\">\r\n        <div class=\"card top-bid\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col align-items-center\">\r\n                <span>Before you can upgrade your NFTs, you need to approve the POW token once.</span>\r\n                <button class=\"btn btn-primary\" type=\"button\" id=\"approvePowToken\" @click=\"approvePowToken\">\r\n                  approve POW\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div v-if=\"showLevelingExplanation || stakersPowBalance <= 0\" class=\"row\">\r\n      <div class=\"col-xxl-6\">\r\n        <div class=\"card top-bid\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col align-items-center\">\r\n                <h4>\r\n                  NFT Level Upgrades\r\n                </h4>\r\n                <ul>\r\n                  <li>You can permanently increase the staking power of your NFTs by upgrading the levels of any NFT you\r\n                    own.\r\n                  </li>\r\n                  <li>For level upgrades you need POW tokens which you can buy in the <a\r\n                      href=\"https://linkmissing/pow\">POW Shop</a>.\r\n                  </li>\r\n                  <!-- <span>Each level upgrade increases the staking power of your upgraded NFTs permanently. </span> -->\r\n                  <li>Each level upgrade costs <strong>100 POW tokens. </strong>\r\n                  </li>\r\n                  <li>The maximum level is <strong>{{ maxLevel }}. </strong>\r\n                  </li>\r\n                  <li>Use the slider to select the level you want to upgrade to. The website shows you a preview of the\r\n                    power after the upgrade.\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-xxl-6\">\r\n        <div class=\"card top-bid\">\r\n          <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n              <div class=\"col align-items-center\">\r\n                <h4>Automatic Harvests and Pure Harvests</h4>\r\n                <ul>\r\n                  <li>Whenever you stake, unstake or upgrade one or multiple NFTs, a harvest of WOM reward tokens is\r\n                    automatically executed.\r\n                  </li>\r\n                  <li>Additionally, you can harvest WOM reward tokens whenever you want. This operation is called a\r\n                    <strong>pure harvest.</strong>\r\n                  </li>\r\n                </ul>\r\n                <br />\r\n                <h4>Harvest Penalties and Bonuses</h4>\r\n                <h6>Penalties</h6>\r\n                <ul>\r\n                  <li>If you harvest within the first 10 days of staking, the amount is reduced with a penalty.\r\n                  </li>\r\n                  <li>\r\n                    The penalty applies to both automatic and pure harvests.\r\n                  </li>\r\n                  <li>\r\n                    Within the first day of staking, the penalty is 90% of the harvest amount.\r\n                  </li>\r\n                  <li>\r\n                    For each subsequent full day of\r\n                    staking, the penalty percentage is reduced by 10%.\r\n                  </li>\r\n                  <li>\r\n                    That means, you will receive 20% after a full\r\n                    day of staking, 30% after 2 full days and so on.\r\n                  </li>\r\n                  <li>\r\n                    After 9 full days of staking your NFTs, you will\r\n                    receive 100% of the harvest amount (no penalties).\r\n                  </li>\r\n                </ul>\r\n                <br />\r\n                <h6>Bonus</h6>\r\n                <ul>\r\n                  <li>But wait, that's not all: After 20 full days of staking, you will receive a 20% bonus. \r\n                  </li>\r\n                  <li>Note that each pure harvest and each unstake will reset the penalties and bonuses cycle. A stake\r\n                    or level upgrade will <strong>not</strong> reset the cycle.\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-12\">\r\n      <div class=\"card filter-tab\">\r\n        <div class=\"card-body bs-0 p-0 bg-transparent\">\r\n          <div class=\"row\">\r\n            <div class=\"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12\">\r\n              <div class=\"card-body\">\r\n                <h4 v-if=\"selectedNfts.length == 1\">1 NFT selected\r\n                  -- Balance: {{ stakersPowBalance }} POW\r\n                  &nbsp;\r\n                  <i title=\"Refresh POW Balance\" @click=\"refreshPowBalance\" class=\"ri-refresh-line\"></i>\r\n                </h4>\r\n                <h4 v-else>{{ selectedNfts.length }} NFTs selected\r\n                  -- Balance: {{ stakersPowBalance }} POW\r\n                  <i title=\"Refresh POW Balance\" @click=\"refreshPowBalance\" class=\"ri-refresh-line\"></i>\r\n                </h4>\r\n                <button @click=\"selectVisible\" class=\"btn btn-success\" style=\"font-size : 14px;\">\r\n                  Select all\r\n                </button>\r\n                &nbsp;\r\n                <button @click=\"clearSelection\" class=\"btn btn-danger\" style=\"font-size : 14px;\">\r\n                  Clear selection\r\n                </button>\r\n                &nbsp;\r\n                <button @click=\"upgradeSelectedNfts()\" class=\"btn btn-success\"\r\n                  :disabled=\"selectedNfts.length <= 0 || stakersPowBalance <= 0 || collectionApprovedForStaking === false || paused\"\r\n                  style=\"font-size : 14px;\">\r\n                  Upgrade {{ Math.min(selectedNfts.length, maxNftsPerTx) }} for {{ powCostToBulkUpgrade }}\r\n                  POW\r\n                </button>\r\n                &nbsp;\r\n                <button @click=\"stakeSelected\" class=\"btn btn-success\"\r\n                  :disabled=\"selectedNfts.length <= 0 || collectionApprovedForStaking === false || paused\"\r\n                  style=\"font-size : 14px;\">\r\n                  Stake {{ Math.min(selectedNfts.length, maxNftsPerTx) }}\r\n                </button>\r\n                &nbsp;\r\n                <button @click=\"unstakeSelected\" class=\"btn btn-danger\"\r\n                  :disabled=\"selectedNfts.length <= 0 || collectionApprovedForStaking === false || paused\"\r\n                  style=\"font-size : 14px;\">\r\n                  Unstake {{ Math.min(selectedNfts.length, maxNftsPerTx) }}\r\n                </button>\r\n                <p v-if=\"selectedNfts.length > maxLevel\">Note: {{ maxLevel }} NFTs max staking and unstaking in 1\r\n                  transaction</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <br />\r\n\r\n          <div class=\"row\">\r\n            <template v-if=\"\r\n              collectionApprovedForStaking !== null &&\r\n              loadingStakedNfts === false &&\r\n              loadingUnstakedNfts === false &&\r\n              stakersNfts.length <= 0\r\n            \">\r\n              <h1 class=\"text-center\">No NFTs to display</h1>\r\n            </template>\r\n\r\n\r\n\r\n            <div class=\"col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-sm-6\" v-for=\"tokenId in filteredNfts\" :key=\"tokenId\">\r\n              <div class=\"card items\">\r\n                <div class=\"card-body\">\r\n                  <div class=\"items-img position-relative\">\r\n                    <img :src=\"nftInfo[tokenId].image\" class=\"img-fluid rounded mb-3\" alt=\"\"\r\n                      @click=\"selectNft(tokenId)\" />\r\n                  </div>\r\n                  <input type=\"checkbox\" :value=\"tokenId\" v-model=\"selectedNfts\" @click=\"selectNft(tokenId)\">\r\n                  &nbsp;\r\n                  <label>\r\n                    <h4 class=\"card-title\">\r\n                      #{{ tokenId }}\r\n                      &nbsp;\r\n                      <span title=\"current level\">{{ nftInfo[tokenId].level }}</span>\r\n                      &nbsp;\r\n                      <span title=\"current staking power\">{{ powerForLevel[nftInfo[tokenId].level] }}</span>\r\n                    </h4>\r\n                  </label>\r\n                  <div class=\"d-flex justify-content-center mt-3\">\r\n                    <button v-if=\"nftInfo[tokenId].staked\" @click=\"unstake(tokenId)\" class=\"btn btn-danger\"\r\n                      :disabled=\"paused\">\r\n                      Unstake\r\n                    </button>\r\n                    <button v-else @click=\"stake(tokenId)\" class=\"btn btn-primary\"\r\n                      :disabled=\"collectionApprovedForStaking === false || paused\">\r\n                      Stake\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div v-if=\"nftInfo[tokenId].level >= maxLevel\">\r\n                    Max. level reached! \r\n                  </div>\r\n                  <div v-else>\r\n                    <div>\r\n                      <span title=\"current level\">{{ nftInfo[tokenId].level }}</span>\r\n                      <input type=\"range\" title=\"Choose desired level after upgrade\" class=\"form-control-range\"\r\n                        :min=\"nftInfo[tokenId].level + 1\" :max=\"maxLevel\" id=\"levelsToUpgradeSlider\"\r\n                        v-model=\"nftInfo[tokenId].nftLevelAfterUpgrade\" @change=\"updateLevelsToUpgrade(tokenId)\">\r\n                      <span title=\"level after upgrade\" class=\"text-muted\"\r\n                        v-if=\"nftInfo[tokenId].nftLevelAfterUpgrade <= maxLevel\"> ({{\r\n                            nftInfo[tokenId].nftLevelAfterUpgrade\r\n                        }})\r\n                      </span>\r\n                      <span class=\"text-muted\" title=\"power after upgrade\">\r\n                        ({{\r\n                            powerForLevel[nftInfo[tokenId].nftLevelAfterUpgrade]\r\n                        }})</span>\r\n                    </div>\r\n                    <button @click=\"upgradeSpecificNft(tokenId, nftInfo[tokenId].levelsToUpgrade)\"\r\n                      class=\"btn btn-primary\"\r\n                      :disabled=\"stakersPowBalance <= 0 || stakersPowAllowanceForLeveling <= 0 || nftInfo[tokenId].level >= maxLevel || collectionApprovedForStaking === false || paused\"\r\n                      style=\"font-size : 14px;\">\r\n                      Upgrade {{ nftInfo[tokenId].levelsToUpgrade }} level<template\r\n                        v-if=\"nftInfo[tokenId].levelsToUpgrade != 1\">s</template> for {{\r\n                            nftInfo[tokenId].levelsToUpgrade\r\n                            * powCostPerLevel\r\n                        }} POW\r\n                    </button>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\nconst Web3 = require(\"web3\");\r\nimport { ethers } from \"ethers\";\r\nimport NftStaking from \"../../artifacts/contracts/NftStaking.sol/NftStaking.json\";\r\nimport WorldOfMasksNFT from \"../../artifacts/contracts/WorldOfMasksNFT.sol/WorldOfMasksNFT.json\";\r\nimport PowToken from \"../../artifacts/contracts/PowToken.sol/PowToken.json\";\r\n\r\n\r\n// TODO Testnet - Mainnet switch\r\n// import womInitialStakes from \"../wom-initial-stakes.json\";\r\n// import womLevel from \"../wom-level.json\";\r\n\r\n\r\n// TODO Testnet - Mainnet switch\r\nimport womInitialStakesTest from \"../womTest-initial-stakes.json\";\r\n\r\nimport womTestLevel from \"../womTest-level.json\";\r\n\r\n\r\n\r\n\r\n// TODO Testnet - Mainnet switch\r\n// let pixelguy = {\r\n//   levels: womLevel,\r\n//   initialStakes: womInitialStakes,\r\n//   pictureLink:\r\n//     \"https://raw.githubusercontent.com/WorldOfMasks/data/main/json/\",\r\n// };\r\n\r\n// TODO Testnet - Mainnet switch\r\nlet womTest = {\r\n  levels: womTestLevel,\r\n  initialStakes: womInitialStakesTest,\r\n  pictureLink:\r\n    \"https://raw.githubusercontent.com/WorldOfMasks/data/main/png/\",\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst nftCollection = {\r\n  // TODO Testnet - Mainnet switch\r\n  // \"0xf928B82061bc531e3B24B8CF3736724e35988b7a\": wom,\r\n\r\n  // TODO Testnet - Mainnet switch\r\n  '0x82DB6802580CE0c06eedB59c0761D97218e7679E': womTest,\r\n};\r\n\r\n\r\n\r\nfunction removeItemOnce(arr, value) {\r\n  let index = arr.indexOf(value);\r\n  if (index > -1) {\r\n    arr.splice(index, 1); // 2nd parameter: Amount of elements to remove\r\n  } else {\r\n    console.log(\"Unstaking an NFT that has not been staked before!\");\r\n  }\r\n  return arr;\r\n}\r\n\r\n// function matchesAllFilters(nft, filters) {\r\n//   for (const [category, traits] of Object.entries(filters)) {\r\n//     if (0 === traits.length) {\r\n//       // console.log(\"No filter on \" + category + \" specified\");\r\n//       continue;\r\n//     } else if (-1 === traits.indexOf(nft[\"traits\"][category])) {\r\n//       // console.log(\"Specified traits for \" + category + \" not in nft \" + nft.id +\". Trait is \" + nft[\"traits\"][category]);\r\n//       return false;\r\n//     }\r\n//   }\r\n//   // console.log(nft.id + \" matches all filters\");\r\n//   return true;\r\n// }\r\n\r\n\r\nexport default {\r\n  name: \"App\",\r\n  props: [\"nftCA\", \"projectname\"],\r\n  emits: ['updateStakingPowerEvent'],\r\n\r\n  data() {\r\n    return {\r\n      rpc: null,\r\n\r\n      maxLevel: 100,\r\n      powCostPerLevel: 100,\r\n      powCostToBulkUpgrade: 0,\r\n\r\n      powerForLevel: [\r\n        2000,\r\n        2300,\r\n        2627,\r\n        2982,\r\n        3365,\r\n        3776,\r\n        4214,\r\n        4678,\r\n        5168,\r\n        5682,\r\n        6219,\r\n        6777,\r\n        7355,\r\n        7951,\r\n        8563,\r\n        9189,\r\n        9827,\r\n        10475,\r\n        11131,\r\n        11794,\r\n        12461,\r\n        13131,\r\n        13802,\r\n        14472,\r\n        15140,\r\n        15804,\r\n        16462,\r\n        17113,\r\n        17756,\r\n        18390,\r\n        19014,\r\n        19627,\r\n        20228,\r\n        20816,\r\n        21391,\r\n        21952,\r\n        22499,\r\n        23032,\r\n        23550,\r\n        24054,\r\n        24543,\r\n        25017,\r\n        25476,\r\n        25920,\r\n        26349,\r\n        26763,\r\n        27163,\r\n        27548,\r\n        27919,\r\n        28277,\r\n        28621,\r\n        28952,\r\n        29270,\r\n        29575,\r\n        29868,\r\n        30149,\r\n        30419,\r\n        30678,\r\n        30926,\r\n        31163,\r\n        31390,\r\n        31607,\r\n        31815,\r\n        32014,\r\n        32204,\r\n        32386,\r\n        32560,\r\n        32726,\r\n        32884,\r\n        33035,\r\n        33179,\r\n        33317,\r\n        33448,\r\n        33573,\r\n        33693,\r\n        33807,\r\n        33916,\r\n        34020,\r\n        34119,\r\n        34213,\r\n        34303,\r\n        34388,\r\n        34469,\r\n        34547,\r\n        34621,\r\n        34691,\r\n        34758,\r\n        34822,\r\n        34883,\r\n        34941,\r\n        34996,\r\n        35048,\r\n        35098,\r\n        35145,\r\n        35190,\r\n        35233,\r\n        35274,\r\n        35313,\r\n        35350,\r\n        35385,\r\n        35419\r\n      ],\r\n\r\n      maxNftsPerTx: 50,\r\n\r\n      showLevelingExplanation: false,\r\n\r\n\r\n      stakersAddress: null,\r\n\r\n      currentCollection: null,\r\n\r\n      stakersPowBalance: 0,\r\n      stakersPowAllowanceForLeveling: 0,\r\n      // powBalanceAfterUpgrade: 0,\r\n      // powBalanceBeforeUpgrade: 0,\r\n      // nftPowerBeforeUpgrade\r\n      // nftPowerAfterUpgrade: 0,\r\n      // nftLevelBeforeUpgrade: 0,\r\n      // nftLevelAfterUpgrade: 0,\r\n\r\n      feedbackMessage: \"\",\r\n\r\n      nftContract: null,\r\n      stakingContract: null,\r\n      powTokenContract: null,\r\n\r\n      provider: null,\r\n      signer: null,\r\n\r\n      loadingUnstakedNfts: true,\r\n      loadingStakedNfts: true,\r\n\r\n      stakersNfts: [],\r\n      filteredNfts: [],\r\n      filter: 'all',\r\n      selectedNfts: [],\r\n      nftInfo: {},\r\n\r\n      stakedCount: 0,\r\n      unstakedCount: 0,\r\n\r\n      picLink: \"\",\r\n\r\n      nftLevel: {},\r\n\r\n      collectionApprovedForStaking: null,\r\n\r\n      stakersWomBalance: 0,\r\n\r\n      transactionInProgress: false,\r\n\r\n      paused: true\r\n    };\r\n  },\r\n\r\n  methods: {\r\n\r\n    // updateFilters: function () {\r\n    //   that.filters = {}\r\n    //   filters.Background = getSelectValues(document.getElementById(\"Background\"));\r\n    //   filters.Fur = getSelectValues(document.getElementById(\"Fur\"));\r\n    //   filters.Clothes = getSelectValues(document.getElementById(\"Clothes\"));\r\n    //   filters.Eyes = getSelectValues(document.getElementById(\"Eyes\"));\r\n    //   filters.Mouth = getSelectValues(document.getElementById(\"Mouth\"));\r\n    //   filters.Earring = getSelectValues(document.getElementById(\"Earring\"));\r\n    //   filters.Hat = getSelectValues(document.getElementById(\"Hat\"));\r\n    //   filters.Profile = getSelectValues(document.getElementById(\"Profile\"));\r\n    //   filters.Special = getSelectValues(document.getElementById(\"Special\"));\r\n    //   filters.trait_count = getSelectValues(document.getElementById(\"trait_count\"));\r\n\r\n    //   for (let nft of that.sts) {\r\n    //     if (false == matchesAllFilters(nft, filters)) continue;\r\n    //   }\r\n    // },\r\n\r\n    refreshPowBalance: function () {\r\n      this.feedbackMessage = \"Updating POW Balance\";\r\n      this.stakersPowBalance = \"updating\";\r\n      this.powTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersPowBalance = balance;\r\n      });\r\n      this.feedbackMessage = \"POW Balance Updated\";\r\n    },\r\n\r\n    selectNft: function (_tokenId) {\r\n      let that = this;\r\n      if (that.selectedNfts.indexOf(_tokenId) < 0) {\r\n        that.selectedNfts.push(_tokenId);\r\n      } else {\r\n        removeItemOnce(that.selectedNfts, _tokenId);\r\n      }\r\n      that.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    updateLevelsToUpgrade: function (_tokenId) {\r\n      let that = this;\r\n      if (that.selectedNfts.indexOf(_tokenId) < 0) {\r\n        that.selectedNfts.push(_tokenId);\r\n      }\r\n      if (that.nftInfo[_tokenId].nftLevelAfterUpgrade > that.maxLevel) {\r\n        that.nftInfo[_tokenId].nftLevelAfterUpgrade = that.maxLevel;\r\n      }\r\n      that.nftInfo[_tokenId].levelsToUpgrade = that.nftInfo[_tokenId].nftLevelAfterUpgrade - that.nftInfo[_tokenId].level;\r\n\r\n      that.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    getLevel: function (_tokenId) {\r\n      let level = this.currentCollection.levels[\"level\"][_tokenId];\r\n      if (!level) {\r\n        // set initial level\r\n        if (_tokenId < 15) {\r\n          level = 11;\r\n        } else if (_tokenId < 101) {\r\n          level = 10;\r\n        } else if (_tokenId < 501) {\r\n          level = 9;\r\n        } else if (_tokenId < 1001) {\r\n          level = 8;\r\n        } else if (_tokenId < 2035) {\r\n          level = 7;\r\n        } else if (_tokenId < 3001) {\r\n          level = 6;\r\n        } else if (_tokenId < 4001) {\r\n          level = 5;\r\n        } else if (_tokenId < 5401) {\r\n          level = 4;\r\n        } else if (_tokenId < 6667) {\r\n          level = 3;\r\n        } else if (_tokenId < 8001) {\r\n          level = 2;\r\n        } else if (_tokenId < 10001) {\r\n          level = 1;\r\n        } else {\r\n          level = 0;\r\n        }\r\n      }\r\n      return level;\r\n    },\r\n\r\n    getPower: function (_tokenId) {\r\n      return this.powerForLevel[this.getLevel(_tokenId)];\r\n    },\r\n\r\n\r\n    approvePowToken: async function () {\r\n      let that = this;\r\n\r\n      that.feedbackMessage = \"Approving POW token\";\r\n\r\n      let tx = await that.powTokenContract\r\n        .approve(window.StakingAddress, ethers.constants.MaxUint256, {\r\n          gasLimit: 65000, // 60k is probably fine, too\r\n          gasPrice: 1046740000,\r\n        });\r\n      await tx.wait();\r\n      that.powTokenContract.allowance(that.stakersAddress, window.StakingAddress).then((allowance) => {\r\n        that.stakersPowAllowanceForLeveling = allowance;\r\n      });\r\n      that.feedbackMessage = \"\";\r\n    },\r\n\r\n    approveStaking: async function () {\r\n      this.transactionInProgress = true;\r\n      let tx = await this.nftContract.setApprovalForAll(window.StakingAddress, true, {\r\n        gasLimit: 60000,\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.nftContract.isApprovedForAll(this.stakersAddress, window.StakingAddress)\r\n        .then((_collectionApprovedForStaking) => {\r\n          this.collectionApprovedForStaking = _collectionApprovedForStaking;\r\n        });\r\n      this.transactionInProgress = false;\r\n    },\r\n\r\n    stake: async function (tokenId) {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n      let tx = await this.stakingContract.stake([tokenId], {\r\n        gasLimit: 500000,\r\n        gasPrice: 1046740000,\r\n      });\r\n      // let tx = await this.stakingContract.stake([tokenId]);\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    unstake: async function (tokenId) {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n      let tx = await this.stakingContract.unstake([tokenId], {\r\n        gasLimit: 500000,\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    selectVisible: function () {\r\n      this.feedbackMessage = \"\";\r\n      this.selectedNfts = [];\r\n      for (let tokenId of this.filteredNfts) {\r\n        if (this.selectedNfts.indexOf(tokenId) < 0) {\r\n          this.selectedNfts.push(tokenId);\r\n        }\r\n      }\r\n\r\n      this.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    clearSelection: function () {\r\n      this.feedbackMessage = \"\";\r\n      this.selectedNfts = [];\r\n      this.updateCostForBulkUpgrade();\r\n    },\r\n\r\n    stakeSelected: async function () {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n\r\n      let IDs = [];\r\n\r\n      for (let tokenId of this.selectedNfts) {\r\n        if (this.nftInfo[tokenId].staked === false && this.filteredNfts.indexOf(tokenId) > -1 && IDs.length < this.maxNftsPerTx) {\r\n          // console.log(this.selectedNfts[i], this.stakersNfts[findIdx]);\r\n          IDs.push(tokenId);\r\n        }\r\n      }\r\n\r\n      this.selectedNfts = IDs.slice();\r\n\r\n      if (IDs.length === 0) {\r\n        this.feedbackMessage = \"No selected NFT matches all criteria.\";\r\n        return false;\r\n      } else {\r\n        this.feedbackMessage = \"Staking selected NFTs.\";\r\n      }\r\n\r\n      let tx = await this.stakingContract.stake(IDs, {\r\n        gasLimit: Math.min(500000 + 400000 * IDs.length, 9999999),\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    unstakeSelected: async function () {\r\n      this.transactionInProgress = true;\r\n      this.feedbackMessage = \"\";\r\n\r\n      let IDs = [];\r\n\r\n      for (let tokenId of this.selectedNfts) {\r\n        if (this.nftInfo[tokenId].staked === true && this.filteredNfts.indexOf(tokenId) > -1 && IDs.length < this.maxNftsPerTx) {\r\n          // console.log(this.selectedNfts[i], this.filteredNfts[findIdx]);\r\n          IDs.push(tokenId);\r\n        }\r\n      }\r\n\r\n      this.selectedNfts = IDs.slice();\r\n\r\n      if (IDs.length === 0) {\r\n        this.feedbackMessage = \"No selected NFT matches all criteria.\";\r\n        return false;\r\n      } else {\r\n        this.feedbackMessage = \"Unstaking selected NFTs.\";\r\n      }\r\n\r\n      let tx = await this.stakingContract.unstake(IDs, {\r\n        gasLimit: Math.min(500000 + 400000 * IDs.length, 9999999),\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n\r\n    updateCostForBulkUpgrade: function () {\r\n      let nftsFound = 0;\r\n      this.powCostToBulkUpgrade = 0;\r\n\r\n      for (let idx = 0; idx < this.selectedNfts.length; idx++) {\r\n        let tokenId = this.selectedNfts[idx];\r\n        let cost = this.nftInfo[tokenId].levelsToUpgrade * this.powCostPerLevel;\r\n        if (nftsFound >= this.maxNftsPerTx) {\r\n          this.feedbackMessage = \"Max. number of NFTs selected\";\r\n          removeItemOnce(this.selectedNfts, tokenId);\r\n          idx--;\r\n        } else {\r\n          this.powCostToBulkUpgrade += cost;\r\n          nftsFound++;\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n\r\n    upgradeSpecificNft: async function (_tokenId, _levelsToUpgrade) {\r\n      if (_levelsToUpgrade === 0) {\r\n        this.feedbackMessage = \"Can't upgrade 0 levels\";\r\n        return false;\r\n      }\r\n\r\n      this.feedbackMessage = \"\";\r\n\r\n      let that = this;\r\n      let _powTokens = _levelsToUpgrade * that.powCostPerLevel;\r\n\r\n      // checking POW token\r\n      if (_powTokens > that.stakersPowAllowanceForLeveling) {\r\n        that.feedbackMessage = \"Please increase your POW token allowance first\";\r\n        return false;\r\n      } else if (_powTokens > that.stakersPowBalance) {\r\n        that.feedbackMessage = \"POW token balance is too low\";\r\n        return false;\r\n      }\r\n\r\n\r\n\r\n      let level = that.getLevel(_tokenId);\r\n      if (level >= that.maxLevel) {\r\n        that.feedbackMessage = \"Cannot upgrade \" + _tokenId + \", because it's already at max. level\";\r\n        console.log(that.feedbackMessage);\r\n        return false;\r\n      }\r\n\r\n      // check owner\r\n      let _nftOwner = await that.nftContract.ownerOf(_tokenId);\r\n      if (_nftOwner !== that.stakersAddress) {\r\n        if (_nftOwner !== window.StakingAddress) {\r\n          that.feedbackMessage = \"Cannot upgrade \" + _tokenId + \", because it's not in your wallet\";\r\n          console.log(that.feedbackMessage);\r\n          return false;\r\n        }\r\n      }\r\n\r\n      that.feedbackMessage = \"Upgrading 1 NFT by \" + _levelsToUpgrade + \" levels with \" + _powTokens + \" POW\";\r\n      console.log(that.feedbackMessage);\r\n\r\n\r\n      console.log(\"Power old= \" + that.getPower(_tokenId));\r\n      console.log(\"Level old= \" + level);\r\n      console.log(\"Balance old= \" + that.stakersPowBalance);\r\n      let balanceNew = that.stakersPowBalance - _powTokens;\r\n      console.log(\"Balance new= \" + balanceNew);\r\n\r\n\r\n\r\n\r\n      let tx = await that.stakingContract\r\n        .upgradeLevel([_tokenId], [_levelsToUpgrade], {\r\n          gasLimit: 300000,\r\n          gasPrice: 1046740000,\r\n        });\r\n      await tx.wait();\r\n\r\n      if (that.nftInfo[_tokenId].staked) {\r\n        // that.load();\r\n        // that.$emit('updateStakingPowerEvent');\r\n        window.location.reload();\r\n      } else {\r\n        that.load();\r\n      }\r\n    },\r\n\r\n    upgradeSelectedNfts: async function () {\r\n      this.feedbackMessage = \"\";\r\n\r\n      let that = this;\r\n\r\n      // checking POW token\r\n      if (that.powCostToBulkUpgrade > that.stakersPowAllowanceForLeveling) {\r\n        that.feedbackMessage = \"Please increase your POW token allowance first\";\r\n        return false;\r\n      } else if (that.powCostToBulkUpgrade > that.stakersPowBalance) {\r\n        that.feedbackMessage = \"POW token balance is too low\";\r\n        return false;\r\n      }\r\n\r\n\r\n      if (that.selectedNfts.length < 1) {\r\n        that.feedbackMessage = \"No NFTs selected\";\r\n        return false;\r\n      } else if (that.selectedNfts.length == 1) {\r\n        let tokenId = that.selectedNfts[0];\r\n        let level = that.getLevel(tokenId);\r\n        if (level >= that.maxLevel) {\r\n          that.feedbackMessage = \"Cannot upgrade \" + tokenId + \", because it's already at max. level\";\r\n          console.log(that.feedbackMessage);\r\n          return false;\r\n        }\r\n\r\n        // check owner\r\n        let _nftOwner = await this.nftContract.ownerOf(tokenId);\r\n        if (_nftOwner !== that.stakersAddress) {\r\n          if (_nftOwner !== window.StakingAddress) {\r\n            that.feedbackMessage = \"You don't own \" + tokenId;\r\n            console.log(that.feedbackMessage);\r\n            return false;\r\n          }\r\n        }\r\n\r\n        that.feedbackMessage = \"Upgrading 1 NFT with \" + that.nftInfo[tokenId].levelsToUpgrade + \" POW\";\r\n        console.log(that.feedbackMessage);\r\n\r\n\r\n        console.log(\"Level old= \" + level);\r\n        console.log(\"Balance old= \" + that.stakersPowBalance);\r\n        let balanceNew = that.stakersPowBalance - that.nftInfo[tokenId].levelsToUpgrade;\r\n        console.log(\"Balance new= \" + balanceNew);\r\n\r\n        let tx = await that.stakingContract\r\n          .upgradeLevel([tokenId], [that.nftInfo[tokenId].levelsToUpgrade], {\r\n            gasLimit: 250000,\r\n            gasPrice: 1046740000,\r\n          });\r\n        await tx.wait();\r\n        if (that.nftInfo[tokenId].staked) {\r\n          // that.emit('updateStakingPowerEvent');\r\n          window.location.reload();\r\n        } else {\r\n          that.load();\r\n        }\r\n      } else if (that.selectedNfts.length > 1) {\r\n        // go through selected NFTs and pick first maxNftsPerTx which qualify for an upgrade\r\n        let nftsToUpgradeArray = [];\r\n        let levelsToUpgradeArray = [];\r\n        that.feedbackMessage = \"Double checking ownership and level of selected NFTs\";\r\n        for (let i = 0; i < that.selectedNfts.length && nftsToUpgradeArray.length < that.maxNftsPerTx; i++) {\r\n          let tokenId = that.selectedNfts[i];\r\n          // check cost\r\n          if (that.nftInfo[tokenId].levelsToUpgrade === 0) {\r\n            that.feedbackMessage += \" -- Skipping \" + tokenId + \" (0 POW upgrade)\";\r\n            continue;\r\n          }\r\n\r\n          // check level\r\n          if (that.getLevel(tokenId) >= that.maxLevel) {\r\n            that.feedbackMessage += \" -- Skipping \" + tokenId + \" (already at max level)\";\r\n            continue;\r\n          }\r\n\r\n          // check owner\r\n          let _nftOwner = await this.nftContract.ownerOf(tokenId);\r\n          if (_nftOwner !== that.stakersAddress) {\r\n            if (_nftOwner !== window.StakingAddress) {\r\n              that.feedbackMessage += \" -- Skipping \" + tokenId + \" (not in your wallet)\";\r\n              console.log(that.feedbackMessage);\r\n            }\r\n          }\r\n\r\n\r\n          nftsToUpgradeArray.push(that.selectedNfts[i]);\r\n          levelsToUpgradeArray.push(that.nftInfo[tokenId].levelsToUpgrade);\r\n          console.log(\"Adding \" + tokenId);\r\n          console.log(nftsToUpgradeArray);\r\n        }\r\n\r\n        that.feedbackMessage += \" -- \" + nftsToUpgradeArray.length + \" NFTs passed all checks\";\r\n        console.log(nftsToUpgradeArray);\r\n        console.log(levelsToUpgradeArray);\r\n        console.log(\"Bulk Upgrade Cost= \" + that.powCostToBulkUpgrade);\r\n\r\n        console.log(\"Balance old=\" + that.stakersPowBalance);\r\n        let powBalanceAfterUpgrade = that.stakersPowBalance - that.powCostToBulkUpgrade;\r\n        console.log(\"Balance after bulk upgrade: \", powBalanceAfterUpgrade);\r\n\r\n        if (nftsToUpgradeArray.length <= 0) { return false; }\r\n\r\n        that.feedbackMessage += \" -- Upgrading NFTs [\" + nftsToUpgradeArray + \"] with [\" + levelsToUpgradeArray + \"] POW\";\r\n        let tx = await this.stakingContract\r\n          .upgradeLevel(nftsToUpgradeArray, levelsToUpgradeArray, {\r\n            gasLimit: Math.min(40000 + 200000 * nftsToUpgradeArray.length, 9999999),\r\n            gasPrice: 1046740000,\r\n          });\r\n        await tx.wait();\r\n      }\r\n\r\n      window.location.reload();\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // upgrade1NftGasSavings: function (_powTokens, _tokenId, startPwrX10k, startLvl) {\r\n    //   console.log(\"V2+ (gas savings) start\");\r\n\r\n    //   let that = this;\r\n    //   let powTokensConsumed = 0;\r\n\r\n\r\n\r\n\r\n\r\n    // console.log(\"after full + partial level upgrades: level: \" + newLvl + \" power: \" + newPwrX10k + \" -- powCostPerLevel: \" + powCostPerLevel + \" -- minpower: \", this.getMinPower(newLvl), this.getMinPower(newLvl + 1));\r\n\r\n    // return { powTokensConsumed, newPwrX10k, newLvl };\r\n    // },\r\n\r\n    calculatePowerIncreaseSolidityV2: function (_powTokens, _tokenId) {\r\n      let startLvl = this.nftLevel[_tokenId - 1];\r\n      let startPwrX10k = this.getPower(_tokenId);\r\n\r\n      let result2 = this.upgrade1NftGasSavings(_powTokens, _tokenId, startPwrX10k, startLvl);\r\n\r\n      this.nftInfo[_tokenId].nftPowerAfterUpgrade = result2.newPwrX10k;\r\n      this.nftInfo[_tokenId].nftLevelAfterUpgrade = result2.newLvl;\r\n      this.nftInfo[_tokenId].levelsToUpgrade = result2.powTokensConsumed;\r\n      let minpwrLevel = this.getMinPower(result2.newLvl);\r\n      let minpwrNextLevel = this.getMinPower(result2.newLvl + 1);\r\n      this.nftInfo[_tokenId].pctInLevelX100AfterUpgrade = Math.min(10000, Math.round((result2.newPwrX10k - minpwrLevel) / (minpwrNextLevel - minpwrLevel) * 10000 / 0.7));\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    filterNfts: function (_param) {\r\n      let that = this;\r\n      let staked = [];\r\n      let unstaked = [];\r\n      that.filter = _param;\r\n      switch (_param) {\r\n        case 'all':\r\n          // that.filteredNfts = that.stakersNfts;\r\n          staked = that.stakersNfts.filter(tokenId => {\r\n            return that.nftInfo[tokenId].staked === true;\r\n          })\r\n          unstaked = that.stakersNfts.filter(tokenId => {\r\n            return that.nftInfo[tokenId].staked === false;\r\n          })\r\n          that.filteredNfts = staked.concat(unstaked);\r\n          break;\r\n        case 'staked':\r\n          that.filteredNfts = that.stakersNfts.filter(tokenId => {\r\n            return that.nftInfo[tokenId].staked === true;\r\n          })\r\n          break;\r\n        case 'unstaked':\r\n          that.filteredNfts = that.stakersNfts.filter(tokenId => {\r\n            return that.nftInfo[tokenId].staked === false;\r\n          })\r\n          break;\r\n        default:\r\n          that.feedbackMessage = \"Filter not implemented\";\r\n      }\r\n    },\r\n\r\n\r\n\r\n\r\n    fillNftInfo: function (_inArr, _staked) {\r\n      let that = this;\r\n      for (let i in _inArr) {\r\n        let tokenId = _inArr[i];\r\n        that.stakersNfts.push(tokenId);\r\n        let level = that.getLevel(tokenId);\r\n\r\n        that.nftInfo[tokenId] = {\r\n          staked: _staked,\r\n          level: level,\r\n          nftLevelAfterUpgrade: level + 1,\r\n          levelsToUpgrade: 1,\r\n          image: that.currentCollection.pictureLink + tokenId + \".png\",\r\n        };\r\n      }\r\n      if (that.loadingStakedNfts === false && that.loadingUnstakedNfts === false) {\r\n        that.stakersNfts.sort(function (a, b) {\r\n          return (\r\n            that.nftInfo[b].level -\r\n            that.nftInfo[a].level\r\n          );\r\n        });\r\n        console.log(\"calling filter\");\r\n        that.filterNfts(that.filter);\r\n        this.transactionInProgress = false;\r\n      }\r\n    },\r\n\r\n\r\n    updateLevels: async function () {\r\n      this.feedbackMessage = \"\";\r\n\r\n      let that = this;\r\n\r\n      return new Promise((resolve, reject) => {\r\n        // loading power updates that came later\r\n        console.log(\"nextBlock: \" + that.currentCollection.levels.nextBlockToCheck);\r\n        const optionsPower = {\r\n          fromBlock: that.currentCollection.levels.nextBlockToCheck, //Number || \"earliest\" || \"pending\" || \"latest\"\r\n          toBlock: \"latest\",\r\n        };\r\n\r\n        try {\r\n          let web3HttpReadLevels = new Web3(this.rpc);\r\n          const stakeContractHttp = new web3HttpReadLevels.eth.Contract(\r\n            NftStaking.abi,\r\n            window.StakingAddress\r\n          );\r\n\r\n          console.log(\"Getting past events for power upgrades\");\r\n          stakeContractHttp\r\n            .getPastEvents(\"levelUpgraded\", optionsPower)\r\n            .then(function (events) {\r\n              if (0 >= events.length) {\r\n                console.log(\"No events\");\r\n                return true;\r\n              }\r\n              // that.currentCollection.level.nextBlockToCheck = Math.max(that.currentCollection.level.nextBlockToCheck, (events[events.length - 1].blockNumber + 1));\r\n\r\n              console.log(events.length + \" events found for power upgrades\");\r\n\r\n              for (let item of events) {\r\n                // console.log(item);\r\n                let id = parseInt(item.returnValues.tokenId);\r\n                let newLevel = parseInt(item.returnValues.newLevel);\r\n\r\n\r\n                that.currentCollection.levels[\"level\"][id] = newLevel;\r\n                console.log(id + \" upgraded to \" + newLevel + \" == \" + that.currentCollection.levels[\"level\"][id] + \" in \" + item.blockNumber);\r\n              }\r\n            })\r\n            .then(() => {\r\n              console.log(\"returning Power\");\r\n              resolve();\r\n            });\r\n        } catch (e) {\r\n          console.log(e);\r\n          reject();\r\n        }\r\n      });\r\n    },\r\n\r\n\r\n    load: async function () {\r\n      let that = this;\r\n      that.loadingUnstakedNfts = true;\r\n      that.loadingStakedNfts = true;\r\n\r\n      that.filteredNfts = [];\r\n      that.stakersNfts = [];\r\n\r\n      that.currentCollection = nftCollection[that.nftCA];\r\n\r\n\r\n      that.stakersAddress = await that.signer.getAddress();\r\n\r\n      // load approval\r\n      that.nftContract.isApprovedForAll(that.stakersAddress, window.StakingAddress)\r\n        .then((_collectionApprovedForStaking) => {\r\n          that.collectionApprovedForStaking = _collectionApprovedForStaking;\r\n        });\r\n\r\n      that.stakingContract.isPaused().then((pause) => {\r\n        that.paused = pause;\r\n      });\r\n\r\n      // load POW balance and allowance \r\n      that.powTokenContract.balanceOf(that.stakersAddress).then((balance) => {\r\n        that.stakersPowBalance = balance;\r\n      });\r\n      that.powTokenContract.allowance(that.stakersAddress, window.StakingAddress).then((allowance) => {\r\n        that.stakersPowAllowanceForLeveling = allowance;\r\n      });\r\n\r\n\r\n      //////////////////\r\n      // Update power //\r\n      //////////////////\r\n      await that.updateLevels(); // updates this.nftPower\r\n      // console.log(\"nftPower in load: \" + that.nftPower);\r\n\r\n\r\n      ////////////\r\n      // staked //\r\n      ////////////\r\n      // copying staked Nfts from snapshot\r\n      let myStakedNfts = [];\r\n      if (that.stakersAddress in this.currentCollection.initialStakes) {\r\n        myStakedNfts = await this.currentCollection.initialStakes[\r\n          that.stakersAddress\r\n        ].slice();\r\n      }\r\n      // console.log(myStakedNfts);\r\n\r\n      // loading stakes and unstakes that came later\r\n      // console.log(\"nextBlock: \" + this.currentCollection.initialStakes.nextBlockToCheck);\r\n      const optionsStake = {\r\n        // filter: { to: [ stakingContract.contractAddress ] },\r\n        fromBlock: this.currentCollection.initialStakes.nextBlockToCheck, //Number || \"earliest\" || \"pending\" || \"latest\"\r\n        toBlock: \"latest\",\r\n      };\r\n\r\n      try {\r\n        let web3HttpMint = new Web3(that.rpc);\r\n        const mintContractHttp = new web3HttpMint.eth.Contract(\r\n          WorldOfMasksNFT.abi,\r\n          that.nftCA\r\n        );\r\n\r\n        // console.log(\"Getting past events for staking / unstaking\");\r\n        mintContractHttp\r\n          .getPastEvents(\"Transfer\", optionsStake)\r\n          .then(function (events) {\r\n            if (0 >= events.length) {\r\n              console.log(\"No events\");\r\n              return true;\r\n            }\r\n            // this.currentCollection.initialStakes.nextBlockToCheck = Math.max(this.currentCollection.initialStakes.nextBlockToCheck, (events[events.length - 1].blockNumber + 1));\r\n\r\n            console.log(events.length + \" events for staking/unstaking\");\r\n\r\n            for (let item of events) {\r\n              // console.log(item.returnValues);\r\n              let id = parseInt(item.returnValues.tokenId);\r\n              let from = item.returnValues.from;\r\n              let to = item.returnValues.to;\r\n\r\n              // staking\r\n              if (from == that.stakersAddress && to == window.StakingAddress) {\r\n                if (myStakedNfts.includes(id)) {\r\n                  console.log(\r\n                    \"Trying to stake an NFT that is already staked!\"\r\n                  );\r\n                } else {\r\n                  myStakedNfts.push(id);\r\n                  // console.log(myStakedNfts);\r\n                }\r\n                console.log(item.blockNumber + \": \" + id + \" staked with \" + that.getPower(id));\r\n              }\r\n              // unstaking\r\n              if (to == that.stakersAddress && from == window.StakingAddress) {\r\n                removeItemOnce(myStakedNfts, id);\r\n                // console.log(myStakedNfts);\r\n\r\n                console.log(item.blockNumber + \": \" + id + \" unstaked with \" + that.getPower(id));\r\n              }\r\n            }\r\n          })\r\n          .then(() => {\r\n            that.loadingStakedNfts = false;\r\n            that.stakedCount = myStakedNfts.length;\r\n            that.fillNftInfo(myStakedNfts, true);\r\n          });\r\n        // .catch(function (error) {\r\n        //   console.log(error);\r\n        // });\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n\r\n\r\n      //////////////\r\n      // unstaked //\r\n      //////////////\r\n      that.nftContract\r\n        .walletOfOwner(that.stakersAddress)\r\n        .then((tokens) => {\r\n          let tokensInWallet = [];\r\n          for (let iCopy = 0; iCopy < tokens.length; iCopy++) {\r\n            tokensInWallet.push(Number(tokens[iCopy]));\r\n          }\r\n          that.loadingUnstakedNfts = false;\r\n          that.unstakedCount = tokensInWallet.length;\r\n          that.fillNftInfo(tokensInWallet, false);\r\n        });\r\n    },\r\n  },\r\n\r\n  mounted: function () {\r\n    this.rpc = window.ethereum; // doesn't work on Android due to a bug(?)\r\n\r\n    this.provider = new ethers.providers.Web3Provider(this.rpc, \"any\");\r\n\r\n    this.provider.send(\"eth_requestAccounts\", [])\r\n      .then(() => {\r\n        this.signer = this.provider.getSigner();\r\n\r\n        let _nftContract = new ethers.Contract(\r\n          this.nftCA.toString(),\r\n          WorldOfMasksNFT.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _stakingContract = new ethers.Contract(\r\n          window.StakingAddress,\r\n          NftStaking.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _powTokenContract = new ethers.Contract(\r\n          window.PowTokenAddress,\r\n          PowToken.abi,\r\n          this.provider.getSigner()\r\n        );\r\n\r\n\r\n        this.nftContract = _nftContract;\r\n        this.stakingContract = _stakingContract;\r\n        this.powTokenContract = _powTokenContract;\r\n      })\r\n      .then(() => {\r\n        this.load();\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n","import { render } from \"./Nft.vue?vue&type=template&id=3e2d373d\"\nimport script from \"./Nft.vue?vue&type=script&lang=js\"\nexport * from \"./Nft.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"col-12 align-items-center\">\r\n    <div class=\"row align-items-center\">\r\n      <h4>\r\n        Balance: {{ stakersWomBalance }} WoM &nbsp;\r\n        <i title=\"Refresh POW Balance\" @click=\"loadWomBalance\" class=\"ri-refresh-line\"></i>\r\n      </h4>\r\n      <br />\r\n      <h4 v-on:updateStakingPowerEvent=\"loadStakerInfo\">\r\n        Staking power: {{ stakersPower }} &nbsp;\r\n        <i title=\"Refresh POW Balance\" @click=\"loadStakerInfo\" class=\"ri-refresh-line\"></i>\r\n      </h4>\r\n      <br />\r\n\r\n      <template v-if=\"stakersPower > 0\">\r\n        <h4>\r\n          Staked for {{ stakerStakedForSeconds }} seconds. (Harvest and unstake reset the timer.)\r\n        </h4>\r\n        <br />\r\n        <h4>\r\n          Current payout level: {{ stakersPayoutPct }}%\r\n        </h4>\r\n        <br />\r\n        <h4 v-if=\"stakerNextPayoutPctInSeconds > 0\">\r\n          Next payout level: {{ stakersNextPayoutPct }}% -- reached in {{ stakerNextPayoutPctInSeconds }} seconds\r\n        </h4>\r\n        <h4 v-else>\r\n          Congratulations! You reached the highest payout level. \r\n        </h4>\r\n      </template>\r\n\r\n      <br />\r\n      <h6>Total staked power: {{ totalStakedPower }}</h6>\r\n      <h6>Base power: {{ baseStakingPower }}</h6>\r\n      <h6>Total WoM Emission: ~{{\r\n          Math.round(\r\n            womEmissionPerHour * earningsTime * 100) / 100\r\n      }}\r\n        WoM / {{ hoursInWords[earningsTime] }}</h6>\r\n      <br />\r\n      <div class=\"settings-menu\" v-if=\"womEmissionPerHour && totalStakedPower && stakersPower\">\r\n        <button class=\"btn btn-primary\" type=\"button\" id=\"collection-filter\" data-bs-toggle=\"dropdown\"\r\n          aria-expanded=\"false\" style=\"font-size : 14px;\">\r\n          Earning ~{{\r\n              Math.round(\r\n                stakerEarningRateX1k *\r\n                earningsTime) / 1000\r\n          }}\r\n          WoM / {{ hoursInWords[earningsTime] }}\r\n        </button>\r\n        <ul class=\"dropdown-menu\" aria-labelledby=\"earnings-time\">\r\n          <li>\r\n            <a class=\"dropdown-item\" @click=\"earningsTime = 1\" :class=\"earningsTime === 1 ? 'current' : ''\">\r\n              Earning ~{{\r\n                  Math.round(\r\n                    stakerEarningRateX1k *\r\n                    1) / 1000\r\n              }}\r\n              WoM / hour\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a class=\"dropdown-item\" @click=\"earningsTime = 24\" v-bind:class=\"\r\n              earningsTime === 24 ? 'current' : ''\r\n            \">\r\n              Earning ~{{\r\n                  Math.round(\r\n                    stakerEarningRateX1k *\r\n                    24) / 1000\r\n              }}\r\n              WoM / day\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a class=\"dropdown-item\" @click=\"earningsTime = 168\" v-bind:class=\"\r\n              earningsTime === 168 ? 'current' : ''\r\n            \">\r\n              Earning ~{{\r\n                  Math.round(\r\n                    stakerEarningRateX1k *\r\n                    168\r\n                  ) / 1000\r\n              }}\r\n              WoM / week\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a class=\"dropdown-item\" @click=\"earningsTime = 720\" v-bind:class=\"\r\n              earningsTime === 720 ? 'current' : ''\r\n            \">\r\n              Earning ~{{\r\n                  Math.round(\r\n                    stakerEarningRateX1k *\r\n                    720\r\n                  ) / 1000\r\n              }}\r\n              WoM / month\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a class=\"dropdown-item\" @click=\"earningsTime = 8760\" v-bind:class=\"\r\n              earningsTime === 8760 ? 'current' : ''\r\n            \">\r\n              Earning ~{{\r\n                  Math.round(\r\n                    stakerEarningRateX1k *\r\n                    8760\r\n                  ) / 1000\r\n              }}\r\n              WoM / year\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"settings-menu\">\r\n        <button class=\"btn btn-primary\" @click=\"harvest\" :disabled=\"paused || womToHarvest == 0\" style=\"font-size : 14px;\">\r\n          Harvest {{ Math.round(stakersPayoutPct * womToHarvest * 10) / 1000 }} WoM\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { ethers } from \"ethers\";\r\nimport NftStaking from \"../../artifacts/contracts/NftStaking.sol/NftStaking.json\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\n\r\nlet SECONDS_PER_DAY = 60;\r\n\r\n\r\n// let RewardTokenAddress = window.RewardTokenAddress;\r\n// let StakingAddress = window.StakingAddress;\r\n\r\nexport default {\r\n  name: \"App\",\r\n  data() {\r\n    return {\r\n      rewardTokenContract: null,\r\n\r\n      nftContract: null,\r\n      stakingContract: null,\r\n\r\n      provider: null,\r\n      signer: null,\r\n\r\n      womEmissionPerHour: null,\r\n\r\n      stakersAddress: null,\r\n      stakerStakedForSeconds: null,\r\n      stakersPayoutPct: null,\r\n      stakersNextPayoutPct: null,\r\n      stakerNextPayoutPctInSeconds: null,\r\n\r\n      stakersPower: null,\r\n      totalStakedPower: null,\r\n      baseStakingPower: null,\r\n      stakerEarningRateX1k: null,\r\n\r\n      earningsTime: 168,\r\n      hoursInWords: {\r\n        1: \"hour\",\r\n        24: \"day\",\r\n        168: \"week\",\r\n        720: \"month\",\r\n        8760: \"year\"\r\n      },\r\n\r\n      womToHarvest: null,\r\n      paused: true,\r\n      stakersWomBalance: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    harvest: async function () {\r\n      let tx = await this.stakingContract.harvest();\r\n      await tx.wait();\r\n      this.load();\r\n    },\r\n    approve: async function () {\r\n      let tx = await this.nftContract.setApprovalForAll(window.StakingAddress, true);\r\n      await tx.wait();\r\n      window.location.reload();\r\n    },\r\n\r\n    loadStakerInfo: function () {\r\n      this.stakingContract.showStakerInfo(this.stakersAddress).then((stakerInfo) => {\r\n        let stakedForSeconds = stakerInfo[0];\r\n        this.stakerStakedForSeconds = stakedForSeconds;\r\n        if (stakedForSeconds > 20 * SECONDS_PER_DAY) {\r\n          this.stakersPayoutPct = 120; // 20% bonus\r\n          this.stakersNextPayoutPct = 120;\r\n          this.stakerNextPayoutPctInSeconds = 0;\r\n        } else if (stakedForSeconds < 9 * SECONDS_PER_DAY) {\r\n          let stakedForDays = Math.floor(stakedForSeconds / SECONDS_PER_DAY);\r\n          this.stakersPayoutPct = (stakedForDays + 1) * 10;\r\n          this.stakersNextPayoutPct = this.stakersPayoutPct + 10;\r\n          this.stakerNextPayoutPctInSeconds = (stakedForDays + 1) * SECONDS_PER_DAY - stakedForSeconds;\r\n        } else {\r\n          this.stakersPayoutPct = 100;\r\n          this.stakersNextPayoutPct = 120;\r\n          this.stakerNextPayoutPctInSeconds = 20 * SECONDS_PER_DAY - stakedForSeconds;\r\n        }\r\n\r\n        this.stakersPower = stakerInfo[1];\r\n        this.totalStakedPower = stakerInfo[2];\r\n        this.baseStakingPower = stakerInfo[3];\r\n        this.womEmissionPerHour =\r\n          Math.round(\r\n            ethers.utils.formatEther(stakerInfo[4]) * 100000\r\n          ) / 100000;\r\n        this.stakerEarningRateX1k = this.womEmissionPerHour * this.stakersPower / (this.totalStakedPower - this.baseStakingPower) * 1000;\r\n      });\r\n      this.womToHarvest = 0;\r\n      this.stakingContract.showStakersEarningsUntilLastTimestamp(this.stakersAddress).then((amount) => {\r\n        this.womToHarvest +=\r\n          Math.round(\r\n            ethers.utils.formatEther(amount) * 100000\r\n          ) / 100000;\r\n      });\r\n      this.stakingContract.showStakersEarningsAfterLastTimestamp(this.stakersAddress).then((earnings) => {\r\n        this.womToHarvest +=\r\n          Math.round(\r\n            ethers.utils.formatEther(earnings) * 100000\r\n          ) / 100000;\r\n      });\r\n      this.stakingContract.isPaused().then((pause) => {\r\n        this.paused = pause;\r\n      });\r\n    },\r\n\r\n    loadWomBalance: function () {\r\n      console.log(this.stakersAddress);\r\n      this.rewardTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersWomBalance = Math.round(ethers.utils.formatEther(balance) * 100000) / 100000;\r\n      });\r\n    },\r\n\r\n\r\n\r\n\r\n    load: function () {\r\n      this.signer.getAddress().then((userAddress) => {\r\n        this.stakersAddress = userAddress;\r\n        this.loadStakerInfo();\r\n        this.loadWomBalance();\r\n      });\r\n\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    this.provider\r\n      .send(\"eth_requestAccounts\", [])\r\n      .then(() => {\r\n        this.signer = this.provider.getSigner();\r\n        let _womContract = new ethers.Contract(\r\n          window.RewardTokenAddress,\r\n          RewardToken.abi,\r\n          this.provider.getSigner()\r\n        );\r\n        let _stakingContract = new ethers.Contract(\r\n          window.StakingAddress,\r\n          NftStaking.abi,\r\n          this.provider.getSigner()\r\n        );\r\n\r\n        this.rewardTokenContract = _womContract;\r\n        this.stakingContract = _stakingContract;\r\n      })\r\n      .then(() => {\r\n        this.load();\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n","import { render } from \"./NftTop.vue?vue&type=template&id=40d4dfbf\"\nimport script from \"./NftTop.vue?vue&type=script&lang=js\"\nexport * from \"./NftTop.vue?vue&type=script&lang=js\"\n\nimport \"./NftTop.vue?vue&type=style&index=0&id=40d4dfbf&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Wom.vue?vue&type=template&id=44a94be4\"\nimport script from \"./Wom.vue?vue&type=script&lang=js\"\nexport * from \"./Wom.vue?vue&type=script&lang=js\"\n\nimport \"./Wom.vue?vue&type=style&index=0&id=44a94be4&lang=css\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <section class=\"text-center container col-lg-8 col-md-9 col-sm-10 mx-auto mt-2 mb-4\">\r\n    <div class=\"row py-3\">\r\n      <div>\r\n        <h1 class=\"fw-light\"><strong><span>The POW Token Shop</span></strong></h1>\r\n\r\n        <div class=\"lead text-muted\"><span>You can increase the staking power of your WoMlub NFTs with POW tokens.\r\n          </span></div>\r\n\r\n\r\n        <div class=\"lead text-muted\"><span>For {{ powTokenPriceBch / 10 ** 18 }} BCH you can get 1 POW token.\r\n          </span></div>\r\n\r\n        <h4 class=\"lead text-muted mx-auto my-3\"><span>Please select how many\r\n            POW tokens you want.</span></h4>\r\n\r\n\r\n        <h4 class=\"lead mx-auto my-4\"><span>Note that the transaction cannot be undone.</span></h4>\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"mb-3 mx-auto\">\r\n        <div class=\"input-group mx-auto\">\r\n          <div class=\"input-group-prepend mx-auto\">\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 10\">Min</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 25\">25</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 50\">50</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 100\">100</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 250\">250</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 500\">500</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 1000\">1000</button>\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"powTokensToBuy = 10000\">10,000</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 col-sm-8 mx-auto\">\r\n          <input id=\"tokensToBuy\" type=\"number\" min=\"10\" class=\"form-control mx-auto\" v-model=\"powTokensToBuy\">\r\n        </div>\r\n      </div>\r\n\r\n      <span class=\"row\">\r\n        <span class=\"column\">\r\n          <h4>Buy {{ powTokensToBuy }} POW for:</h4>\r\n          <div class=\"col-lg-6 col-md-8 mx-auto\">\r\n            <button id=\"buyButtonBch\" type=\"button\" class=\"btn btn-primary my-2 btn-large\" :disabled=\"!powSaleActive || powTokenPriceBch <= 0\"\r\n              @click=\"buyPowWithBch\">{{ Math.round(powTokensToBuy * powTokenPriceBch / 10 ** 12) / 10**6  }} BCH</button>\r\n            &nbsp;\r\n            <button id=\"buyButtonWom\" type=\"button\" class=\"btn btn-primary my-2 btn-large\" :disabled=\"!powSaleActive || powTokenPriceWom <= 0\"\r\n              @click=\"buyPowWithToken('WoM')\">{{ Math.round(powTokensToBuy * powTokenPriceWom / 10 ** 12) / 10**6 }} WoM</button>\r\n            &nbsp;\r\n            <button id=\"buyButtonFlexUsd\" type=\"button\" class=\"btn btn-primary my-2 btn-large\"\r\n              :disabled=\"!powSaleActive || powTokenPriceFlexUsd <= 0\" @click=\"buyPowWithToken('flexUSD')\">{{ Math.round(powTokensToBuy * powTokenPriceFlexUsd\r\n                  / 10**12) / 10**6 }} flexUSD</button>\r\n          </div>\r\n          <div class=\"lead text-muted\"><span>Your Balances: {{ Math.round(stakersBchBalance / 10**15) / 10**3 }} BCH, {{ Math.round(stakersWomBalance/10**15) / 10**3 }} WoM,\r\n              {{ Math.round(stakersFlexUsdBalance/10**15)/10**3 }} flexUSD\r\n            </span></div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"text-monospace text-muted col-lg-12 col-md-12 mx-auto mt-1 mb-2\">{{ feedbackMessage }}</div>\r\n    </div>\r\n    <br />\r\n    <h1 class=\"fw-light\"><strong>Your POW tokens</strong></h1>\r\n\r\n    <div class=\"lead text-muted\"><span>Balance: {{ stakersPowBalance }} POW\r\n      </span></div>\r\n    <div class=\"lead text-muted\" v-if=\"stakersPowBalance > 0 && stakersPowAllowanceForLeveling <= 0\"><span>Remember to\r\n        approve the POW token for level upgrades.</span></div>\r\n    <div class=\"lead text-muted\" v-if=\"stakersPowBalance > 0 && stakersPowAllowanceForLeveling > 0\"><span>You are now\r\n        ready to level up some NFTs!</span></div>\r\n\r\n    <br />\r\n    <div class=\"row py-5\">\r\n      <div>\r\n        <h1 class=\"fw-light\"><strong>POW Tokens Approval for Leveling</strong></h1>\r\n\r\n        <div class=\"lead text-muted\"><span>Before you can upgrade the staking power of the NFTs, you have to approve the\r\n            leveler contract as a\r\n            spender of POW tokens.</span></div>\r\n\r\n        <div class=\"lead text-muted\"><span>You only need to give your approval once.</span></div>\r\n\r\n        <div class=\"lead text-muted\"><span>If you wish to remove your approval, you can do that here, too.</span></div>\r\n\r\n        <div class=\"col-12\">\r\n          <button class=\"btn btn-success\" type=\"button\" id=\"approvePowToken\"\r\n            :disabled=\"stakersPowAllowanceForLeveling > 0\" @click=\"approvePowToken\">\r\n            approve\r\n          </button>\r\n          &nbsp;\r\n          <button class=\"btn btn-danger\" type=\"button\" id=\"removePowAllowance\"\r\n            :disabled=\"stakersPowAllowanceForLeveling <= 0\" @click=\"removePowTokenAllowance\">\r\n            (remove approval)\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- <br />\r\n    <div class=\"row\">\r\n      <h5>For testing: Change POW token allowance</h5>\r\n      <div class=\"lead text-muted\"><span>Allowance for Leveling: {{ stakersPowAllowanceForLeveling }} POW\r\n      </span></div>\r\n      <div class=\"lead text\"><span>Use the minus or plus button to lower or raise your POW token allowance by the amount in the number input box above.\r\n      </span></div>\r\n      <div class=\"col-12\">\r\n\r\n        <button class=\"btn btn-primary\" type=\"button\" id=\"decreasePowAllowance\" @click=\"decreasePowTokenAllowance\">\r\n          -\r\n        </button>\r\n        <button class=\"btn btn-primary\" type=\"button\" id=\"increasePowAllowance\" @click=\"increasePowTokenAllowance\">\r\n          +\r\n        </button>\r\n      </div>\r\n    </div> -->\r\n  </section>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport { ethers } from \"ethers\";\r\nimport PowTokenSeller from \"../../artifacts/contracts/PowTokenSeller.sol/PowTokenSeller.json\";\r\nimport PowToken from \"../../artifacts/contracts/PowToken.sol/PowToken.json\";\r\nimport RewardToken from \"../../artifacts/contracts/RewardToken.sol/RewardToken.json\";\r\n\r\n\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      provider: null,\r\n      signer: null,\r\n\r\n      stakersAddress: \"\",\r\n\r\n      powTokenContract: null,\r\n      stakersPowBalance: 0,\r\n      stakersPowAllowanceForLeveling: 0,\r\n\r\n      stakersWomAllowanceForShop: 0,\r\n      stakersFlexUsdAllowanceForShop: 0,\r\n\r\n      stakersBchBalance: 0,\r\n      stakersWomBalance: 0,\r\n      stakersFlexUsdBalance: 0,\r\n\r\n      powSellerContract: null,\r\n      powSaleActive: false,\r\n\r\n      powTokensToBuy: 100,\r\n      powTokenPriceBch: 0,\r\n      powTokenPriceWom: 0,\r\n      powTokenPriceFlexUsd: 0,\r\n\r\n      rewardTokenContract: null,\r\n      flexUsdTokenContract: null,\r\n\r\n      feedbackMessage: \"\",\r\n    }\r\n  },\r\n  methods: {\r\n    approvePowToken: async function () {\r\n      let that = this;\r\n\r\n      that.feedbackMessage = \"Approving POW token\";\r\n\r\n      let tx = await that.powTokenContract\r\n        .approve(window.StakingAddress, ethers.constants.MaxUint256, {\r\n          gasLimit: 65000, // 60k is probably fine, too\r\n          gasPrice: 1046740000,\r\n        });\r\n      await tx.wait();\r\n      that.powTokenContract.allowance(that.stakersAddress, window.StakingAddress).then((allowance) => {\r\n        that.stakersPowAllowanceForLeveling = allowance;\r\n      });\r\n      that.feedbackMessage = \"\";\r\n    },\r\n\r\n    removePowTokenAllowance: async function () {\r\n      let that = this;\r\n\r\n      that.feedbackMessage = \"Removing POW token approval\";\r\n\r\n      let tx = await that.powTokenContract\r\n        .approve(window.StakingAddress, 0, {\r\n          gasLimit: 65000, // 60k is probably fine, too\r\n          gasPrice: 1046740000,\r\n        });\r\n      await tx.wait();\r\n      that.powTokenContract.allowance(that.stakersAddress, window.StakingAddress).then((allowance) => {\r\n        that.stakersPowAllowanceForLeveling = allowance;\r\n      });\r\n      that.feedbackMessage = \"\";\r\n    },\r\n\r\n    // decreasePowTokenAllowance: async function () {\r\n    //   let that = this;\r\n\r\n    //   that.feedbackMessage = \"Decreasing POW token approval by \" + that.powTokensToBuy + \" POW\";\r\n\r\n    //   let tx = await that.powTokenContract\r\n    //     .decreaseAllowance(window.StakingAddress, that.powTokensToBuy, {\r\n    //       gasLimit: 65000, // 60k is probably fine, too\r\n    //       gasPrice: 1046740000,\r\n    //     });\r\n    //   await tx.wait();\r\n    //   that.powTokenContract.allowance(that.stakersAddress, window.StakingAddress).then((allowance) => {\r\n    //     that.stakersPowAllowanceForLeveling = allowance;\r\n    //   });\r\n    //   that.feedbackMessage = \"\";\r\n    // },\r\n    // increasePowTokenAllowance: async function () {\r\n    //   let that = this;\r\n\r\n    //   that.feedbackMessage = \"Increasing POW token approval by \" + that.powTokensToBuy + \" POW\";\r\n\r\n    //   let tx = await that.powTokenContract\r\n    //     .increaseAllowance(window.StakingAddress, that.powTokensToBuy, {\r\n    //       gasLimit: 65000, // 60k is probably fine, too\r\n    //       gasPrice: 1046740000,\r\n    //     });\r\n    //   await tx.wait();\r\n    //   that.powTokenContract.allowance(that.stakersAddress, window.StakingAddress).then((allowance) => {\r\n    //     that.stakersPowAllowanceForLeveling = allowance;\r\n    //   });\r\n    //   that.feedbackMessage = \"\";\r\n    // },\r\n\r\n    getPowSaleActive: async function () {\r\n      this.powSellerContract.saleActive().then((isActive) => {\r\n        this.powSaleActive = isActive;\r\n        if (!isActive) {\r\n          this.feedbackMessage = \"Buying POW Tokens is currently not possible. Please try again later!\";\r\n        }\r\n      });\r\n    },\r\n\r\n    getPowTokenPrices: async function () {\r\n      this.powSellerContract.powPriceBch().then((priceInWei) => {\r\n        this.powTokenPriceBch = priceInWei;\r\n      });\r\n      this.powSellerContract.getPowPriceToken(window.RewardTokenAddress).then((priceInWei) => {\r\n        this.powTokenPriceWom = priceInWei;\r\n      });\r\n      this.powSellerContract.getPowPriceToken(window.FlexUsdAddress).then((priceInWei) => {\r\n        this.powTokenPriceFlexUsd = priceInWei;\r\n      });\r\n    },\r\n\r\n    getPowTokenBalance: function () {\r\n      this.powTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersPowBalance = balance;\r\n      });\r\n      this.powTokenContract.allowance(this.stakersAddress, window.StakingAddress).then((allowance) => {\r\n        this.stakersPowAllowanceForLeveling = allowance;\r\n      });\r\n    },\r\n\r\n    getFlexUsdBalance: function () {\r\n      this.flexUsdTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersFlexUsdBalance = balance;\r\n      });\r\n    },\r\n\r\n    getRewardTokenBalance: function () {\r\n      this.rewardTokenContract.balanceOf(this.stakersAddress).then((balance) => {\r\n        this.stakersWomBalance = balance;\r\n      });\r\n    },\r\n\r\n    getBchBalance: function () {\r\n      this.provider.getBalance(this.stakersAddress).then((balance) => {\r\n        this.stakersBchBalance = balance;\r\n      });\r\n    },\r\n\r\n\r\n    buyPowWithBch: async function () {\r\n      let powTokensInt = Math.floor(this.powTokensToBuy);\r\n      if (powTokensInt !== this.powTokensToBuy) {\r\n        this.feedbackMessage = \"Only integers allowed!\";\r\n        this.powTokensToBuy = powTokensInt;\r\n        return false;\r\n      }\r\n      if (this.powTokensToBuy < 10) {\r\n        this.feedbackMessage = \"You need to buy at least 10 POW tokens\";\r\n        return false;\r\n      } \r\n  \r\n      let bchValue = this.powTokensToBuy * this.powTokenPriceBch / 10 ** 18;\r\n      if (bchValue > this.stakersBchBalance/10**18) {\r\n        this.feedbackMessage = \"Not enough BCH\";\r\n        return false;\r\n      }\r\n\r\n      if (bchValue <= 0) {\r\n        this.feedbackMessage = \"BCH payments are currently not accepted\";\r\n        return false;\r\n      }\r\n\r\n      this.feedbackMessage = \"Buying \" + this.powTokensToBuy + \" POW tokens\";\r\n      const options = { value: ethers.utils.parseEther(bchValue.toString()) };\r\n      let tx = await this.powSellerContract.buyPowWithBch(this.powTokensToBuy, options);\r\n      await tx.wait();\r\n      this.getPowTokenBalance();\r\n      this.feedbackMessage = \"\";\r\n    },\r\n\r\n    buyPowWithToken: async function (tokenName) {\r\n      let that = this;\r\n\r\n      let powTokensInt = Math.floor(that.powTokensToBuy);\r\n      if (powTokensInt !== that.powTokensToBuy) {\r\n        that.feedbackMessage = \"Only integers allowed!\";\r\n        that.powTokensToBuy = powTokensInt;\r\n        return false;\r\n      }\r\n\r\n\r\n      let powTokenPrice = 0;\r\n      let stakersAllowance = 0;\r\n      let stakersBalance = 0;\r\n      let tokenContract = 0;\r\n      let tokenCA = 0;\r\n      if (tokenName === 'WoM') {\r\n        powTokenPrice = that.powTokenPriceWom;\r\n        stakersAllowance = that.stakersWomAllowanceForShop;\r\n        stakersBalance = that.stakersWomBalance;\r\n        tokenContract = that.rewardTokenContract;\r\n        tokenCA = window.RewardTokenAddress;\r\n      } else if (tokenName === 'flexUSD') {\r\n        powTokenPrice = that.powTokenPriceFlexUsd;\r\n        stakersAllowance = that.stakersFlexUsdAllowanceForShop;\r\n        stakersBalance = that.stakersFlexUsdBalance;\r\n        tokenContract = that.flexUsdTokenContract;\r\n        tokenCA = window.FlexUsdAddress;\r\n      } else {\r\n        that.feedbackMessage = tokenName + \" purchases are not possible right now. Please try another payment method.\";\r\n        return false;\r\n      }\r\n\r\n      let tokenValue = that.powTokensToBuy * powTokenPrice;\r\n      // console.log(that.stakersWomAllowanceForShop);\r\n\r\n      if (tokenValue > stakersBalance) {\r\n        that.feedbackMessage = \"Not enough \" + tokenName;\r\n        return false;\r\n      }\r\n\r\n      if (tokenValue <= 0) {\r\n        this.feedbackMessage = tokenName + \" payments are currently not accepted\";\r\n        return false;\r\n      }\r\n\r\n      if (tokenValue > stakersAllowance) {\r\n        that.feedbackMessage = \"Approving \" + tokenName + \" first...\";\r\n\r\n        let tx = await tokenContract\r\n          .approve(window.PowSellerAddress, ethers.constants.MaxUint256, {\r\n            gasLimit: 65000, // 60k is probably fine, too\r\n            gasPrice: 1046740000,\r\n          });\r\n        await tx.wait();\r\n        stakersAllowance = await tokenContract.allowance(that.stakersAddress, window.PowSellerAddress);\r\n        if (tokenValue > stakersAllowance) {\r\n          that.feedbackMessage = \"Approving \" + tokenName + \" failed. Try again later...\";\r\n          return false;\r\n        }\r\n      }\r\n\r\n      if (that.powTokensToBuy < 10) {\r\n        that.feedbackMessage = \"You need to buy at least 10 POW tokens\";\r\n        return false;\r\n      } else {\r\n        that.feedbackMessage = \"Buying \" + that.powTokensToBuy + \" POW tokens\";\r\n      }\r\n      let tx = await that.powSellerContract.buyPowWithTokens(that.powTokensToBuy, tokenCA, {\r\n        gasLimit: 120000, // 60k is probably fine, too\r\n        gasPrice: 1046740000,\r\n      });\r\n      await tx.wait();\r\n      that.getPowTokenBalance();\r\n      that.feedbackMessage = \"\";\r\n    },\r\n\r\n    getAllowances: function () {\r\n      let that = this;\r\n      that.rewardTokenContract.allowance(that.stakersAddress, window.PowSellerAddress).then((allowance) => {\r\n        that.stakersWomAllowanceForShop = allowance;\r\n        // console.log(that.stakersWomAllowanceForShop);\r\n      });\r\n    },\r\n\r\n    load: async function () {\r\n      this.signer.getAddress().then((myAddress) => {\r\n        this.stakersAddress = myAddress;\r\n        this.getPowTokenBalance();\r\n        this.getBchBalance();\r\n        this.getRewardTokenBalance();\r\n        this.getFlexUsdBalance();\r\n        this.getAllowances();\r\n      });\r\n    },\r\n  },\r\n  mounted: function () {\r\n    this.provider = new ethers.providers.Web3Provider(window.ethereum, 'any');\r\n    this.provider.send(\"eth_requestAccounts\", []).then(() => {\r\n      this.signer = this.provider.getSigner();\r\n\r\n      let _powSellerContract = new ethers.Contract(window.PowSellerAddress, PowTokenSeller.abi, this.provider.getSigner());\r\n      let _powTokenContract = new ethers.Contract(\r\n        window.PowTokenAddress,\r\n        PowToken.abi,\r\n        this.provider.getSigner()\r\n      );\r\n      let _womContract = new ethers.Contract(window.RewardTokenAddress, RewardToken.abi, this.provider.getSigner());\r\n      let _flexUsdContract = new ethers.Contract(window.FlexUsdAddress, RewardToken.abi, this.provider.getSigner());\r\n\r\n      this.powSellerContract = _powSellerContract;\r\n      this.powTokenContract = _powTokenContract;\r\n      this.rewardTokenContract = _womContract;\r\n      this.flexUsdTokenContract = _flexUsdContract;\r\n    }).then(() => {\r\n      this.load();\r\n      this.getPowSaleActive();\r\n      this.getPowTokenPrices();\r\n    })\r\n  }\r\n}\r\n</script>","import { render } from \"./Shop.vue?vue&type=template&id=1f891c7d\"\nimport script from \"./Shop.vue?vue&type=script&lang=js\"\nexport * from \"./Shop.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/martin/Documents/coding/wom-staking/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport '../public/css/style.css'\r\nimport Admin from \"@/components/Admin\";\r\nimport NftMint from \"@/components/NftMint\";\r\nimport {createRouter, createWebHistory} from \"vue-router\";\r\nimport Wom from \"@/components/Wom\";\r\nimport Shop from \"@/components/Shop\";\r\n\r\n\r\nexport let app = createApp(App);\r\n\r\nconst routes = [\r\n    { path: '/wom', component: Wom },\r\n    { path: '/shop', component: Shop },\r\n    { path: '/admin', component: Admin },\r\n    { path: '/nftMint', component: NftMint },\r\n    { path: '/', component: Wom },\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes,\r\n})\r\n\r\napp.use(router);\r\n\r\napp.mount('#app')\r\n","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Wom.vue?vue&type=style&index=0&id=44a94be4&lang=css\""],"sourceRoot":""}